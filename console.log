[    0.000000] Booting Linux on physical CPU 0x0000000000 [0x411fd070]
[    0.000000] Linux version 6.1.0-rc5-gcc675d22e422 (mark1990301@instance-2) (Ubuntu clang version 11.0.0-2~ubuntu20.04.1, LLD 11.0.0) #5 SMP PREEMPT Mon Mar 13 14:59:24 UTC 2023
[    0.000000] Machine model: linux,dummy-virt
[    0.000000] printk: debug: ignoring loglevel setting.
[    0.000000] efi: UEFI not found.
[    0.000000] NUMA: No NUMA configuration found
[    0.000000] NUMA: Faking a node at [mem 0x0000000040000000-0x000000023fffffff]
[    0.000000] NUMA: NODE_DATA [mem 0x23efe8a00-0x23efeafff]
[    0.000000] Zone ranges:
[    0.000000]   DMA      [mem 0x0000000040000000-0x00000000ffffffff]
[    0.000000]   DMA32    empty
[    0.000000]   Normal   [mem 0x0000000100000000-0x000000023fffffff]
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x0000000040000000-0x000000023fffffff]
[    0.000000] Initmem setup node 0 [mem 0x0000000040000000-0x000000023fffffff]
[    0.000000] cma: Reserved 32 MiB at 0x00000000fe000000
[    0.000000] psci: probing for conduit method from DT.
[    0.000000] psci: PSCIv0.2 detected in firmware.
[    0.000000] psci: Using standard PSCI v0.2 function IDs
[    0.000000] psci: Trusted OS migration not required
[    0.000000] percpu: Embedded 20 pages/cpu s44840 r8192 d28888 u81920
[    0.000000] pcpu-alloc: s44840 r8192 d28888 u81920 alloc=20*4096
[    0.000000] pcpu-alloc: [0] 0 [0] 1 [0] 2 [0] 3 [0] 4 [0] 5 [0] 6 [0] 7 
[    0.000000] Detected PIPT I-cache on CPU0
[    0.000000] CPU features: detected: GIC system register CPU interface
[    0.000000] CPU features: detected: Spectre-v2
[    0.000000] CPU features: detected: Spectre-v3a
[    0.000000] CPU features: detected: Spectre-v4
[    0.000000] CPU features: detected: Spectre-BHB
[    0.000000] CPU features: detected: ARM erratum 834220
[    0.000000] CPU features: detected: ARM erratum 1742098
[    0.000000] CPU features: detected: ARM erratum 832075
[    0.000000] CPU features: detected: ARM errata 1165522, 1319367, or 1530923
[    0.000000] alternatives: applying boot alternatives
[    0.000000] Fallback order for Node 0: 0 
[    0.000000] Built 1 zonelists, mobility grouping on.  Total pages: 2064384
[    0.000000] Policy zone: Normal
[    0.000000] Kernel command line: debug ignore_loglevel root=/dev/vda1
[    0.000000] Dentry cache hash table entries: 1048576 (order: 11, 8388608 bytes, linear)
[    0.000000] Inode-cache hash table entries: 524288 (order: 10, 4194304 bytes, linear)
[    0.000000] mem auto-init: stack:all(zero), heap alloc:off, heap free:off
[    0.000000] software IO TLB: area num 8.
[    0.000000] software IO TLB: mapped [mem 0x00000000fa000000-0x00000000fe000000] (64MB)
[    0.000000] Memory: 7477828K/8388608K available (16576K kernel code, 3730K rwdata, 8604K rodata, 1920K init, 610K bss, 878012K reserved, 32768K cma-reserved)
[    0.000000] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=8, Nodes=1
[    0.000000] rcu: Preemptible hierarchical RCU implementation.
[    0.000000] rcu: 	RCU event tracing is enabled.
[    0.000000] rcu: 	RCU restricting CPUs from NR_CPUS=256 to nr_cpu_ids=8.
[    0.000000] 	Trampoline variant of Tasks RCU enabled.
[    0.000000] 	Tracing variant of Tasks RCU enabled.
[    0.000000] rcu: RCU calculated value of scheduler-enlistment delay is 25 jiffies.
[    0.000000] rcu: Adjusting geometry for rcu_fanout_leaf=16, nr_cpu_ids=8
[    0.000000] NR_IRQS: 64, nr_irqs: 64, preallocated irqs: 0
[    0.000000] GICv3: GIC: Using split EOI/Deactivate mode
[    0.000000] GICv3: 224 SPIs implemented
[    0.000000] GICv3: 0 Extended SPIs implemented
[    0.000000] Root IRQ handler: gic_handle_irq
[    0.000000] GICv3: GICv3 features: 16 PPIs
[    0.000000] GICv3: CPU0: found redistributor 0 region 0:0x00000000080a0000
[    0.000000] rcu: srcu_init: Setting srcu_struct sizes based on contention.
[    0.000000] arch_timer: cp15 timer(s) running at 62.50MHz (phys).
[    0.000000] clocksource: arch_sys_counter: mask: 0x1ffffffffffffff max_cycles: 0x1cd42e208c, max_idle_ns: 881590405314 ns
[    0.000097] sched_clock: 57 bits at 63MHz, resolution 16ns, wraps every 4398046511096ns
[    0.047073] Console: colour dummy device 80x25
[    0.058675] printk: console [tty0] enabled
[    0.071267] Calibrating delay loop (skipped), value calculated using timer frequency.. 125.00 BogoMIPS (lpj=250000)
[    0.071593] pid_max: default: 32768 minimum: 301
[    0.072601] LSM: Security Framework initializing
[    0.085589] Mount-cache hash table entries: 16384 (order: 5, 131072 bytes, linear)
[    0.085961] Mountpoint-cache hash table entries: 16384 (order: 5, 131072 bytes, linear)
[    0.221842] cacheinfo: Unable to detect cache hierarchy for CPU 0
[    0.280394] cblist_init_generic: Setting adjustable number of callback queues.
[    0.280720] cblist_init_generic: Setting shift to 3 and lim to 1.
[    0.281491] cblist_init_generic: Setting shift to 3 and lim to 1.
[    0.292590] rcu: Hierarchical SRCU implementation.
[    0.292754] rcu: 	Max phase no-delay instances is 1000.
[    0.318101] EFI services will not be available.
[    0.339664] smp: Bringing up secondary CPUs ...
[    0.346327] Detected PIPT I-cache on CPU1
[    0.347482] cacheinfo: Unable to detect cache hierarchy for CPU 1
[    0.347824] GICv3: CPU1: found redistributor 1 region 0:0x00000000080c0000
[    0.348142] CPU1: Booted secondary processor 0x0000000001 [0x411fd070]
[    0.359003] Detected PIPT I-cache on CPU2
[    0.359372] cacheinfo: Unable to detect cache hierarchy for CPU 2
[    0.359446] GICv3: CPU2: found redistributor 2 region 0:0x00000000080e0000
[    0.359623] CPU2: Booted secondary processor 0x0000000002 [0x411fd070]
[    0.366471] Detected PIPT I-cache on CPU3
[    0.366833] cacheinfo: Unable to detect cache hierarchy for CPU 3
[    0.366904] GICv3: CPU3: found redistributor 3 region 0:0x0000000008100000
[    0.367079] CPU3: Booted secondary processor 0x0000000003 [0x411fd070]
[    0.371070] Detected PIPT I-cache on CPU4
[    0.371393] cacheinfo: Unable to detect cache hierarchy for CPU 4
[    0.371461] GICv3: CPU4: found redistributor 4 region 0:0x0000000008120000
[    0.371619] CPU4: Booted secondary processor 0x0000000004 [0x411fd070]
[    0.375386] Detected PIPT I-cache on CPU5
[    0.375700] cacheinfo: Unable to detect cache hierarchy for CPU 5
[    0.375764] GICv3: CPU5: found redistributor 5 region 0:0x0000000008140000
[    0.375931] CPU5: Booted secondary processor 0x0000000005 [0x411fd070]
[    0.379112] Detected PIPT I-cache on CPU6
[    0.379444] cacheinfo: Unable to detect cache hierarchy for CPU 6
[    0.379520] GICv3: CPU6: found redistributor 6 region 0:0x0000000008160000
[    0.379673] CPU6: Booted secondary processor 0x0000000006 [0x411fd070]
[    0.383346] Detected PIPT I-cache on CPU7
[    0.386672] cacheinfo: Unable to detect cache hierarchy for CPU 7
[    0.386751] GICv3: CPU7: found redistributor 7 region 0:0x0000000008180000
[    0.386909] CPU7: Booted secondary processor 0x0000000007 [0x411fd070]
[    0.388666] smp: Brought up 1 node, 8 CPUs
[    0.389585] SMP: Total of 8 processors activated.
[    0.389713] CPU features: detected: 32-bit EL0 Support
[    0.389778] CPU features: detected: 32-bit EL1 Support
[    0.390149] CPU features: detected: CRC32 instructions
[    0.545246] CPU: All CPU(s) started at EL2
[    0.545679] alternatives: applying system-wide alternatives
[    0.744159] devtmpfs: initialized
[    0.832357] clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 7645041785100000 ns
[    0.832693] futex hash table entries: 2048 (order: 5, 131072 bytes, linear)
[    0.849453] pinctrl core: initialized pinctrl subsystem
[    0.895089] DMI not present or invalid.
[    0.934382] NET: Registered PF_NETLINK/PF_ROUTE protocol family
[    0.974750] DMA: preallocated 1024 KiB GFP_KERNEL pool for atomic allocations
[    0.977452] DMA: preallocated 1024 KiB GFP_KERNEL|GFP_DMA pool for atomic allocations
[    0.978687] DMA: preallocated 1024 KiB GFP_KERNEL|GFP_DMA32 pool for atomic allocations
[    0.979212] audit: initializing netlink subsys (disabled)
[    0.999643] audit: type=2000 audit(0.364:1): state=initialized audit_enabled=0 res=1
[    1.022410] thermal_sys: Registered thermal governor 'step_wise'
[    1.022522] thermal_sys: Registered thermal governor 'power_allocator'
[    1.023276] cpuidle: using governor menu
[    1.025182] hw-breakpoint: found 6 breakpoint and 4 watchpoint registers.
[    1.039432] ASID allocator initialised with 65536 entries
[    1.060131] Serial: AMBA PL011 UART driver
[    1.237047] 9000000.pl011: ttyAMA0 at MMIO 0x9000000 (irq = 14, base_baud = 0) is a PL011 rev1
[    1.402020] printk: console [ttyAMA0] enabled
[    1.435068] KASLR disabled due to lack of seed
[    1.542407] HugeTLB: registered 1.00 GiB page size, pre-allocated 0 pages
[    1.542712] HugeTLB: 16380 KiB vmemmap can be freed for a 1.00 GiB page
[    1.542931] HugeTLB: registered 32.0 MiB page size, pre-allocated 0 pages
[    1.543093] HugeTLB: 508 KiB vmemmap can be freed for a 32.0 MiB page
[    1.543251] HugeTLB: registered 2.00 MiB page size, pre-allocated 0 pages
[    1.543399] HugeTLB: 28 KiB vmemmap can be freed for a 2.00 MiB page
[    1.543547] HugeTLB: registered 64.0 KiB page size, pre-allocated 0 pages
[    1.543706] HugeTLB: 0 KiB vmemmap can be freed for a 64.0 KiB page
[    1.765869] ACPI: Interpreter disabled.
[    1.802453] iommu: Default domain type: Translated 
[    1.802730] iommu: DMA domain TLB invalidation policy: strict mode 
[    1.805272] SCSI subsystem initialized
[    1.811394] libata version 3.00 loaded.
[    1.813994] usbcore: registered new interface driver usbfs
[    1.819288] usbcore: registered new interface driver hub
[    1.819769] usbcore: registered new device driver usb
[    1.828960] pps_core: LinuxPPS API ver. 1 registered
[    1.829179] pps_core: Software ver. 5.3.6 - Copyright 2005-2007 Rodolfo Giometti <giometti@linux.it>
[    1.829573] PTP clock support registered
[    1.835191] EDAC MC: Ver: 3.0.0
[    1.868241] FPGA manager framework
[    1.869786] Advanced Linux Sound Architecture Driver Initialized.
[    1.912140] vgaarb: loaded
[    2.038728] clocksource: Switched to clocksource arch_sys_counter
[    2.040999] VFS: Disk quotas dquot_6.6.0
[    2.041416] VFS: Dquot-cache hash table entries: 512 (order 0, 4096 bytes)
[    2.112689] pnp: PnP ACPI: disabled
[    2.256054] NET: Registered PF_INET protocol family
[    2.299306] IP idents hash table entries: 131072 (order: 8, 1048576 bytes, linear)
[    2.339060] tcp_listen_portaddr_hash hash table entries: 4096 (order: 4, 65536 bytes, linear)
[    2.339649] Table-perturb hash table entries: 65536 (order: 6, 262144 bytes, linear)
[    2.339942] TCP established hash table entries: 65536 (order: 7, 524288 bytes, linear)
[    2.341347] TCP bind hash table entries: 65536 (order: 9, 2097152 bytes, linear)
[    2.346639] TCP: Hash tables configured (established 65536 bind 65536)
[    2.368003] UDP hash table entries: 4096 (order: 5, 131072 bytes, linear)
[    2.369213] UDP-Lite hash table entries: 4096 (order: 5, 131072 bytes, linear)
[    2.384845] NET: Registered PF_UNIX/PF_LOCAL protocol family
[    2.422049] RPC: Registered named UNIX socket transport module.
[    2.430166] RPC: Registered udp transport module.
[    2.430338] RPC: Registered tcp transport module.
[    2.430458] RPC: Registered tcp NFSv4.1 backchannel transport module.
[    2.430759] PCI: CLS 0 bytes, default 64
[    2.438064] Unpacking initramfs...
[    2.507769] hw perfevents: enabled with armv8_pmuv3 PMU driver, 5 counters available
[    2.512924] kvm [1]: Guests without required CPU erratum workarounds can deadlock system!
[    2.512924] Only trusted guests should be used on this system.
[    2.513502] kvm [1]: IPA Size Limit: 44 bits
[    2.559418] kvm [1]: GICv3: no GICV resource entry
[    2.560060] kvm [1]: disabling GICv2 emulation
[    2.560805] kvm [1]: GIC system register CPU interface enabled
[    2.563509] kvm [1]: vgic interrupt IRQ9
[    2.582390] kvm [1]: Hyp mode initialized successfully
[    2.621708] Initialise system trusted keyrings
[    2.635480] workingset: timestamp_bits=42 max_order=21 bucket_order=0
[    2.733064] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    2.792581] NFS: Registering the id_resolver key type
[    2.793376] Key type id_resolver registered
[    2.793579] Key type id_legacy registered
[    2.806957] nfs4filelayout_init: NFSv4 File Layout Driver Registering...
[    2.807294] nfs4flexfilelayout_init: NFSv4 Flexfile Layout Driver Registering...
[    2.822357] 9p: Installing v9fs 9p2000 file system support
[    2.976461] Key type asymmetric registered
[    2.976767] Asymmetric key parser 'x509' registered
[    2.977418] Block layer SCSI generic (bsg) driver version 0.4 loaded (major 245)
[    2.977857] io scheduler mq-deadline registered
[    2.982597] io scheduler kyber registered
[    3.291536] pl061_gpio 9030000.pl061: PL061 GPIO chip registered
[    3.329136] pci-host-generic 4010000000.pcie: host bridge /pcie@10000000 ranges:
[    3.336824] pci-host-generic 4010000000.pcie:       IO 0x003eff0000..0x003effffff -> 0x0000000000
[    3.341799] pci-host-generic 4010000000.pcie:      MEM 0x0010000000..0x003efeffff -> 0x0010000000
[    3.358362] pci-host-generic 4010000000.pcie:      MEM 0x8000000000..0xffffffffff -> 0x8000000000
[    3.362114] pci-host-generic 4010000000.pcie: Memory resource size exceeds max for 32 bits
[    3.375649] pci-host-generic 4010000000.pcie: ECAM at [mem 0x4010000000-0x401fffffff] for [bus 00-ff]
[    3.386988] pci-host-generic 4010000000.pcie: PCI host bridge to bus 0000:00
[    3.389579] pci_bus 0000:00: root bus resource [bus 00-ff]
[    3.391534] pci_bus 0000:00: root bus resource [io  0x0000-0xffff]
[    3.393472] pci_bus 0000:00: root bus resource [mem 0x10000000-0x3efeffff]
[    3.395750] pci_bus 0000:00: root bus resource [mem 0x8000000000-0xffffffffff]
[    3.401077] pci 0000:00:00.0: [1b36:0008] type 00 class 0x060000
[    3.524766] EINJ: ACPI disabled.
[    3.973369] Serial: 8250/16550 driver, 4 ports, IRQ sharing enabled
[    4.022171] SuperH (H)SCI(F) driver initialized
[    4.024818] msm_serial: driver initialized
[    4.042727] cacheinfo: Unable to detect cache hierarchy for CPU 0
[    4.184884] loop: module loaded
[    4.202983] megasas: 07.719.03.00-rc1
[    4.252963] physmap-flash 0.flash: physmap platform flash device: [mem 0x00000000-0x03ffffff]
[    4.265934] 0.flash: Found 2 x16 devices at 0x0 in 32-bit bank. Manufacturer ID 0x000000 Chip ID 0x000000
[    4.278426] Intel/Sharp Extended Query Table at 0x0031
[    4.279959] Using buffer write method
[    4.280694] erase region 0: offset=0x0,size=0x40000,blocks=256
[    4.281229] physmap-flash 0.flash: physmap platform flash device: [mem 0x04000000-0x07ffffff]
[    4.282432] 0.flash: Found 2 x16 devices at 0x0 in 32-bit bank. Manufacturer ID 0x000000 Chip ID 0x000000
[    4.282800] Intel/Sharp Extended Query Table at 0x0031
[    4.283710] Using buffer write method
[    4.284103] erase region 0: offset=0x0,size=0x40000,blocks=256
[    4.284426] Concatenating MTD devices:
[    4.284586] (0): "0.flash"
[    4.284703] (1): "0.flash"
[    4.284790] into device "0.flash"
[   10.842098] hrtimer: interrupt took 259707968 ns
[   12.416570] Freeing initrd memory: 618524K
[   13.193407] tun: Universal TUN/TAP device driver, 1.6
[   13.244195] thunder_xcv, ver 1.0
[   13.247340] thunder_bgx, ver 1.0
[   13.248590] nicpf, ver 1.0
[   13.271317] hns3: Hisilicon Ethernet Network Driver for Hip08 Family - version
[   13.274020] hns3: Copyright (c) 2017 Huawei Corporation.
[   13.276590] hclge is initializing
[   13.277967] e1000: Intel(R) PRO/1000 Network Driver
[   13.287799] e1000: Copyright (c) 1999-2006 Intel Corporation.
[   13.290455] e1000e: Intel(R) PRO/1000 Network Driver
[   13.292153] e1000e: Copyright(c) 1999 - 2015 Intel Corporation.
[   13.294611] igb: Intel(R) Gigabit Ethernet Network Driver
[   13.296437] igb: Copyright (c) 2007-2014 Intel Corporation.
[   13.298657] igbvf: Intel(R) Gigabit Virtual Function Network Driver
[   13.300626] igbvf: Copyright (c) 2009 - 2012 Intel Corporation.
[   13.304188] sky2: driver version 1.30
[   13.323697] VFIO - User Level meta-driver version: 0.3
[   13.363212] usbcore: registered new interface driver usb-storage
[   13.401047] rtc-pl031 9010000.pl031: registered as rtc0
[   13.404103] rtc-pl031 9010000.pl031: setting system clock to 2023-03-13T19:43:52 UTC (1678736632)
[   13.423971] i2c_dev: i2c /dev entries driver
[   13.479567] sdhci: Secure Digital Host Controller Interface driver
[   13.481770] sdhci: Copyright(c) Pierre Ossman
[   13.485793] Synopsys Designware Multimedia Card Interface Driver
[   13.502683] sdhci-pltfm: SDHCI platform and OF driver helper
[   13.521585] ledtrig-cpu: registered to indicate activity on CPUs
[   13.536795] usbcore: registered new interface driver usbhid
[   13.552138] usbhid: USB HID core driver
[   13.614550] NET: Registered PF_PACKET protocol family
[   13.619148] 9pnet: Installing 9P2000 support
[   13.621283] Key type dns_resolver registered
[   13.625733] registered taskstats version 1
[   13.628235] Loading compiled-in X.509 certificates
[   14.022039] input: gpio-keys as /devices/platform/gpio-keys/input/input0
[   14.054988] ALSA device list:
[   14.055464]   No soundcards found.
[   14.065593] uart-pl011 9000000.pl011: no DMA platform data
[   14.282870] Freeing unused kernel memory: 1920K
[   14.325004] Run /init as init process
[   14.325286]   with arguments:
[   14.325447]     /init
[   14.325570]   with environment:
[   14.325696]     HOME=/
[   14.325815]     TERM=linux
Starting syslogd: OK
Starting klogd: OK
Running sysctl: OK
Saving random seed: [   23.426809] random: crng init done
OK
Starting network: 
udhcpc: started, v1.35.0
udhcpc: broadcasting discover
udhcpc: broadcasting select for 10.0.2.15, server 10.0.2.2
udhcpc: lease of 10.0.2.15 obtained from 10.0.2.2, lease time 86400
deleting routers
adding dns 10.0.2.3
OK

Welcome to Buildroot
buildroot login: root
# crosvm run --cfg /data/tes# crosvm run --cfg /data/test.cfg [J
[2023-03-13T19:44:21.391619184+00:00 INFO  crosvm] crosvm started.
[2023-03-13T19:44:21.842506176+00:00 INFO  crosvm] CLI arguments parsed.
[2023-03-13T19:44:21.850740576+00:00 WARN  crosvm::crosvm::cmdline] `--cfg` is still experimental and the configuration file format may change
[2023-03-13T19:44:22.320338992+00:00 INFO  crosvm::crosvm::sys::unix] crosvm entering multiprocess mode
[2023-03-13T19:44:22.639120832+00:00 ERROR crosvm] exiting with error 1: "/var/empty" is not a directory, cannot create jail
# mkdir -p /var/empty
# # mkdir -p /var/empty[J# crosvm run --cfg /data/test.cfg [J
[2023-03-13T19:44:29.096968576+00:00 INFO  crosvm] crosvm started.
[2023-03-13T19:44:29.173703840+00:00 INFO  crosvm] CLI arguments parsed.
[2023-03-13T19:44:29.188007312+00:00 WARN  crosvm::crosvm::cmdline] `--cfg` is still experimental and the configuration file format may change
[2023-03-13T19:44:29.237150768+00:00 INFO  crosvm::crosvm::sys::unix] crosvm entering multiprocess mode
[2023-03-13T19:44:29.361258816+00:00 INFO  crosvm::crosvm::sys::unix::device_helpers] Trying to attach block device: /data/rootfs.cpio
[2023-03-13T19:44:29.425124592+00:00 INFO  disk] disk size 5378048, 
[2023-03-13T19:44:29.461026128+00:00 INFO  disk] Disk image file is hosted on file system type 858458f6
crosvm[1]: libminijail[1]: failed to set controlling terminal: Operation not permitted
crosvm[1]: libminijail[1]: pivot_root: Invalid argument
crosvm[1]: libminijail[1]: pivot_root: Invalid argument
crosvm[1]: libminijail[1]: pivot_root: Invalid argument
crosvm[1]: libminijail[1]: pivot_root: Invalid argument
crosvm[1]: libminijail[1]: pivot_root: Invalid argument
crosvm[1]: libminijail[1]: pivot_root: Invalid argument
[2023-03-13T19:44:34.293172592+00:00 ERROR crosvm::crosvm::sys::unix] child pcivirtio-console (pid 214) exited: signo 17, status 5, code 2
[2023-03-13T19:44:34.685344576+00:00 ERROR devices::proxy] failed write to child device process serial: failed to send packet: Broken pipe (os error 32)
[2023-03-13T19:44:34.707043392+00:00 ERROR devices::proxy] failed to read result of Shutdown from child device process serial: tube was disconnected
[2023-03-13T19:44:34.725226800+00:00 ERROR devices::proxy] failed write to child device process serial: failed to send packet: Broken pipe (os error 32)
[2023-03-13T19:44:34.759241360+00:00 ERROR devices::proxy] failed to read result of Shutdown from child device process serial: tube was disconnected
[2023-03-13T19:44:34.772002720+00:00 ERROR devices::proxy] failed write to child device process serial: failed to send packet: Broken pipe (os error 32)
[2023-03-13T19:44:34.779956736+00:00 ERROR devices::proxy] failed to read result of Shutdown from child device process serial: tube was disconnected
[2023-03-13T19:44:34.803366560+00:00 ERROR devices::proxy] failed write to child device process serial: failed to send packet: Broken pipe (os error 32)
[2023-03-13T19:44:34.811408752+00:00 ERROR devices::proxy] failed to read result of Shutdown from child device process serial: tube was disconnected
[2023-03-13T19:44:34.877529728+00:00 ERROR devices::proxy] failed write to child device process pcivirtio-console: failed to send packet: Broken pipe (os error 32)
[2023-03-13T19:44:34.915396320+00:00 ERROR devices::proxy] failed to read result of Shutdown from child device process pcivirtio-console: tube was disconnected
[2023-03-13T19:44:34.939164672+00:00 ERROR devices::proxy] failed write to child device process pcivirtio-block: failed to send packet: Broken pipe (os error 32)
[2023-03-13T19:44:34.946766016+00:00 ERROR devices::proxy] failed to read result of Shutdown from child device process pcivirtio-block: tube was disconnected
[2023-03-13T19:44:34.954184896+00:00 ERROR devices::proxy] failed write to child device process pcivirtio-rng: failed to send packet: Broken pipe (os error 32)
[2023-03-13T19:44:34.975462176+00:00 ERROR devices::proxy] failed to read result of Shutdown from child device process pcivirtio-rng: tube was disconnected
[2023-03-13T19:44:34.977757168+00:00 ERROR devices::proxy] failed write to child device process pcivirtio-balloon: failed to send packet: Broken pipe (os error 32)
[2023-03-13T19:44:35.003406560+00:00 ERROR devices::proxy] failed to read result of Shutdown from child device process pcivirtio-balloon: tube was disconnected
[2023-03-13T19:44:35.005994800+00:00 ERROR devices::proxy] failed write to child device process pcivirtio-net: failed to send packet: Broken pipe (os error 32)
[2023-03-13T19:44:35.011996224+00:00 ERROR devices::proxy] failed to read result of Shutdown from child device process pcivirtio-net: tube was disconnected
[2023-03-13T19:44:35.013964240+00:00 ERROR devices::proxy] failed write to child device process xhci controller: failed to send packet: Broken pipe (os error 32)
[2023-03-13T19:44:35.027668736+00:00 ERROR devices::proxy] failed to read result of Shutdown from child device process xhci controller: tube was disconnected
[2023-03-13T19:44:35.484312688+00:00 INFO  crosvm] exiting with success
# 
# crosvm run --help
[2023-03-13T19:46:04.061961520+00:00 INFO  crosvm] crosvm started.
Usage: crosvm run [<KERNEL>] [--ac97 <[backend=BACKEND,capture=true,capture_effect=EFFECT,client_type=TYPE,shm-fd=FD,client-fd=FD,server-fd=FD]...>] [--acpi-table <PATH...>] [--android-fstab <android-fstab>] [--async-executor <EXECUTOR>] [--balloon-bias-mib <N>] [--balloon-control <PATH>] [--balloon-page-reporting] [--battery <battery>] [--bios <bios>] [-b <PATH[,key=value[,key=value[,...]]]...>] [--cfg <CONFIG_FILE>] [--cid <CID>] [--coiommu <unpin_policy=POLICY,unpin_interval=NUM,unpin_limit=NUM,unpin_gen_threshold=NUM>] [--cpu-affinity <CPUSET>] [--cpu-capacity <CPU=CAP[,CPU=CAP[,...]]>] [--cpu-cluster <CPUSET...>] [-c <cpus>] [--delay-rt] [--disable-sandbox] [--disable-virtio-intx] [-d <PATH[,key=value[,key=value[,...]]]...>] [--display-window-keyboard] [--display-window-mouse] [--dmi <DIR>] [--dump-device-tree-blob <FILE>] [--enable-hwp] [--enable-pnp-data] [--evdev <PATH...>] [--file-backed-mapping <addr=NUM,size=SIZE,path=PATH[,offset=NUM][,rw][,sync]...>] [--host-cpu-topology] [--host-ip <IP>] [--hugepages] [--hypervisor <hypervisor>] [--init-mem <N>] [-i <PATH>] [--itmt] [--keyboard <PATH...>] [--kvm-device <PATH>] [--lock-guest-memory] [--mac <MAC>] [-m <N>] [--mmio-address-range <mmio-address-range>] [--mouse <PATH...>] [--mte] [--multi-touch <PATH:WIDTH:HEIGHT...>] [--net <(tap-name=TAP_NAME,mac=MAC_ADDRESS|tap-fd=TAP_FD,mac=MAC_ADDRESS|host-ip=IP,netmask=NETMASK,mac=MAC_ADDRESS),vhost-net=VHOST_NET...>] [--net-vq-pairs <N>] [--netmask <NETMASK>] [--no-balloon] [--no-rng] [--no-smt] [--no-usb] [-p <PARAMS...>] [--per-vm-core-scheduling] [--pflash <path=PATH,[block_size=SIZE]>] [--pivot-root <PATH>] [--pmem-device <PATH...>] [--privileged-vm] [--protected-vm] [--protected-vm-with-firmware <PATH>] [--protected-vm-without-firmware] [--pstore <path=PATH,size=SIZE>] [--restore <PATH>] [-r <PATH[,key=value[,key=value[,...]]]>] [--rt-cpus <CPUSET>] [--rw-pmem-device <PATH...>] [--rwdisk <PATH[,key=value[,key=value[,...]]]...>] [--rwroot <PATH[,key=value[,key=value[,...]]]>] [--s2idle] [--seccomp-log-failures] [--seccomp-policy-dir <PATH>] [--serial <type=TYPE,[hardware=HW,num=NUM,path=PATH,input=PATH,console,earlycon,stdin]...>] [--shared-dir <PATH:TAG[:type=TYPE:writeback=BOOL:timeout=SECONDS:uidmap=UIDMAP:gidmap=GIDMAP:cache=CACHE:dax=BOOL,posix_acl=BOOL]...>] [--single-touch <PATH:WIDTH:HEIGHT...>] [-s <PATH>] [--sound <PATH>] [--strict-balloon] [--stub-pci-device <DOMAIN:BUS:DEVICE.FUNCTION[,vendor=NUM][,device=NUM][,class=NUM][,subsystem_vendor=NUM][,subsystem_device=NUM][,revision=NUM]...>] [--swap <PATH>] [--swiotlb <N>] [--switches <PATH...>] [--syslog-tag <TAG>] [--tap-fd <tap-fd...>] [--tap-name <tap-name...>] [--trackpad <PATH:WIDTH:HEIGHT...>] [--unmap-guest-memory-on-fork] [--unprotected-vm-with-firmware <PATH>] [--vcpu-cgroup-path <PATH>] [--vfio <PATH[,guest-address=<BUS:DEVICE.FUNCTION>][,iommu=viommu|coiommu|off]...>] [--vfio-isolate-hotplug] [--vfio-platform <PATH...>] [--vhost-net] [--vhost-net-device <PATH>] [--vhost-user-blk <SOCKET_PATH...>] [--vhost-user-console <SOCKET_PATH...>] [--vhost-user-fs <SOCKET_PATH:TAG...>] [--vhost-user-gpu <SOCKET_PATH...>] [--vhost-user-mac80211-hwsim <SOCKET_PATH>] [--vhost-user-net <SOCKET_PATH...>] [--vhost-user-snd <SOCKET_PATH...>] [--vhost-user-video-decoder <SOCKET_PATH...>] [--vhost-user-vsock <SOCKET_PATH...>] [--vhost-user-wl <SOCKET_PATH>] [--vhost-vsock-device <SOCKET_PATH>] [--vhost-vsock-fd <FD>] [--virtio-snd <[capture=true,backend=BACKEND,num_output_devices=1,
        num_input_devices=1,num_output_streams=1,num_input_streams=1]...>] [--vvu-proxy <SOCKET_PATH[,addr=DOMAIN:BUS:DEVICE.FUNCTION,uuid=UUID]...>] [--wayland-sock <PATH[,name=NAME]...>] [--x-display <DISPLAY>]

Start a new crosvm instance

Positional Arguments:
  KERNEL            bzImage of kernel to run

Options:
  --ac97            comma separated key=value pairs for setting up Ac97 devices.
                    Can be given more than once.                                
                    Possible key values:                                        
                        backend=(null, cras) - Where to route the audio         
                             device. If not provided, backend will default to   
                             null. `null` for /dev/null, cras for CRAS server.  
                        capture - Enable audio capture                          
                        capture_effects - | separated effects to be enabled for 
                            recording. The only supported effect value now is   
                            EchoCancellation or aec.                            
                        client_type - Set specific client type for cras backend.
                        socket_type - Set specific socket type for cras backend.
  --acpi-table      path to user provided ACPI table
  --android-fstab   path to Android fstab
  --async-executor  configure async executor backend; "uring" or "epoll" on
                    Linux, "handle" on Windows. If this option is omitted on
                    Linux, "epoll" is used by default.
  --balloon-bias-mib
                    amount to bias balance of memory between host and guest as
                    the balloon inflates, in mib.
  --balloon-control path for balloon controller socket.
  --balloon-page-reporting
                    enable page reporting in balloon.
  --battery         comma separated key=value pairs for setting up battery      
                    device                                                      
                    Possible key values:                                        
                        type=goldfish - type of battery emulation, defaults to  
                        goldfish
  --bios            path to BIOS/firmware ROM
  -b, --block       parameters for setting up a block device.                   
                    Valid keys:                                                 
                        path=PATH - Path to the disk image. Can be specified    
                            without the key as the first argument.              
                        ro=BOOL - Whether the block should be read-only.        
                            (default: false)                                    
                        root=BOOL - Whether the block device should be mounted  
                            as the root filesystem. This will add the required  
                            parameters to the kernel command-line. Can only be  
                            specified once. (default: false)                    
                        sparse=BOOL - Indicates whether the disk should support 
                            the discard operation. (default: true)              
                        block-size=BYTES - Set the reported block size of the   
                            disk. (default: 512)                                
                        id=STRING - Set the block device identifier to an ASCII 
                            string, up to 20 characters. (default: no ID)       
                        direct=BOOL - Use O_DIRECT mode to bypass page cache.   
                            (default: false)                                    
                        async-executor=epoll|uring - set the async executor kind
                            to simulate the block device with. This takes       
                            precedence over the global --async-executor option. 
                        multiple-workers=BOOL - (Experimental) run multiple     
                            worker threads in parallel. this option is not      
                            effective for vhost-user blk device.                
                            (default: false)
  --cfg             path to a JSON configuration file to load.                  
                    The options specified in the file can be overridden or
                    augmented by other command-line parameters.
  --cid             context ID for virtual sockets.
  --coiommu         comma separated key=value pairs for setting up coiommu      
                    devices.                                                    
                    Possible key values:                                        
                        unpin_policy=lru - LRU unpin policy.                    
                        unpin_interval=NUM - Unpin interval time in seconds.    
                        unpin_limit=NUM - Unpin limit for each unpin cycle, in  
                           unit of page count. 0 is invalid.                    
                        unpin_gen_threshold=NUM -  Number of unpin intervals a  
                           pinned page must be busy for to be aged into the     
                           older which is less frequently checked generation.
  --cpu-affinity    comma-separated list of CPUs or CPU ranges to run VCPUs on
                    (e.g. 0,1-3,5) or colon-separated list of assignments of
                    guest to host CPU assignments (e.g. 0=0:1=1:2=2) (default:
                    no mask)
  --cpu-capacity    set the relative capacity of the given CPU (default: no
                    capacity)
  --cpu-cluster     group the given CPUs into a cluster (default: no clusters)
  -c, --cpus        cpu parameters.                                             
                    Possible key values:                                        
                        num-cores=NUM - number of VCPUs. (default: 1)           
                        clusters=[[CLUSTER],...] - CPU clusters (default: None) 
                          Each CLUSTER is a set containing a list of CPUs       
                          that should belong to the same cluster. Individual    
                          CPU ids or ranges can be specified, comma-separated.  
                          Examples:                                             
                          clusters=[[0],[1],[2],[3]] - creates 4 clusters, one  
                            for each specified core.                            
                          clusters=[[0-3]] - creates a cluster for cores 0 to 3 
                            included.                                           
                          clusters=[[0,2],[1,3],[4-7,12]] - creates one cluster 
                            for cores 0 and 2, another one for cores 1 and 3,   
                            and one last for cores 4, 5, 6, 7 and 12.           
                        core-types=[atom=[CPUSET],core=[CPUSET]] - Hybrid core
                    types. (default: None)       Set the type of virtual hybrid
                    CPUs. Now it supports         to set intel Atom or intel
                    Core types.                       Examples:                 
                                                     
                    core-types=[atom=[0,1],core=[2,3]] - set vCPU 0 and         
                    vCPU 1 as intel Atom type, also set vCPU 2 and vCPU 3       
                    as intel Core type.
  --delay-rt        don't set VCPUs real-time until make-rt command is run
  --disable-sandbox run all devices in one, non-sandboxed process
  --disable-virtio-intx
                    disable INTx in virtio devices
  -d, --disk        path to a disk image followed by optional comma-separated   
                    options.                                                    
                    Valid keys:                                                 
                       sparse=BOOL - Indicates whether the disk should support  
                           the discard operation (default: true)                
                       block_size=BYTES - Set the reported block size of the    
                           disk (default: 512)                                  
                       id=STRING - Set the block device identifier to an ASCII  
                           string, up to 20 characters (default: no ID)         
                       o_direct=BOOL - Use O_DIRECT mode to bypass page cache"
  --display-window-keyboard
                    capture keyboard input from the display window
  --display-window-mouse
                    capture keyboard input from the display window
  --dmi             directory with smbios_entry_point/DMI files
  --dump-device-tree-blob
                    dump generated device tree as a DTB file
  --enable-hwp      expose HWP feature to the guest
  --enable-pnp-data expose Power and Perfomance (PnP) data to guest and guest
                    can show these PnP data
  --evdev           path to an event device node. The device will be grabbed
                    (unusable from the host) and made available to the guest
                    with the same configuration it shows on the host
  --file-backed-mapping
                    map the given file into guest memory at the specified       
                    address.                                                    
                    Parameters (addr, size, path are required):                 
                        addr=NUM - guest physical address to map at             
                        size=NUM - amount of memory to map                      
                        path=PATH - path to backing file/device to map          
                        offset=NUM - offset in backing file (default 0)         
                        rw - make the mapping writable (default readonly)       
                        sync - open backing file with O_SYNC                    
                        align - whether to adjust addr and size to page         
                           boundaries implicitly
  --host-cpu-topology
                    use mirror cpu topology of Host for Guest VM, also copy some
                    cpu feature to Guest VM
  --host-ip         IP address to assign to host tap interface
  --hugepages       advise the kernel to use Huge Pages for guest memory
                    mappings
  --hypervisor      hypervisor backend
  --init-mem        amount of guest memory outside the balloon at boot in MiB.
                    (default: --mem)
  -i, --initrd      initial ramdisk to load
  --itmt            allow to enable ITMT scheduling feature in VM. The success
                    of enabling depends on HWP and ACPI CPPC support on hardware
  --keyboard        path to a socket from where to read keyboard input events
                    and write status updates to
  --kvm-device      path to the KVM device. (default /dev/kvm)
  --lock-guest-memory
                    disable host swap on guest VM pages.
  --mac             MAC address for VM
  -m, --mem         memory parameters.                                          
                    Possible key values:                                        
                        size=NUM - amount of guest memory in MiB. (default: 256)
  --mmio-address-range
                    MMIO address ranges
  --mouse           path to a socket from where to read mouse input events and
                    write status updates to
  --mte             enable the Memory Tagging Extension in the guest
  --multi-touch     path to a socket from where to read multi touch input events
                    (such as those from a touchscreen) and write status updates
                    to, optionally followed by width and height (defaults to
                    800x1280)
  --net             comma separated key=value pairs for setting up a network    
                    device.                                                     
                    Possible key values:                                        
                      (                                                         
                         tap-name=STRING - name of a configured persistent TAP  
                                             interface to use for networking.   
                         mac=STRING      - MAC address for VM. [Optional]       
                       OR                                                       
                         tap-fd=INT      - File descriptor for configured tap   
                                             device.                            
                         mac=STRING      - MAC address for VM. [Optional]       
                       OR                                                       
                         (                                                      
                            host-ip=STRING  - IP address to assign to host tap  
                                                interface.                      
                          AND                                                   
                            netmask=STRING  - Netmask for VM subnet.            
                          AND                                                   
                            mac=STRING      - MAC address for VM.               
                         )                                                      
                      )                                                         
                    AND                                                         
                      vhost-net=BOOL  - whether enable vhost_net or not.        
                                          Default: false.  [Optional]           
                    Either one tap_name, one tap_fd or a triplet of host_ip,    
                    netmask and mac must be specified.
  --net-vq-pairs    virtio net virtual queue pairs. (default: 1)
  --netmask         netmask for VM subnet
  --no-balloon      don't use virtio-balloon device in the guest
  --no-rng          don't create RNG device in the guest
  --no-smt          don't use SMT in the guest
  --no-usb          don't use usb devices in the guest
  -p, --params      extra kernel or plugin command line arguments. Can be given
                    more than once
  --per-vm-core-scheduling
                    enable per-VM core scheduling intead of the default one
                    (per-vCPU core scheduing) by making all vCPU threads share
                    same cookie for core scheduling. This option is no-op on
                    devices that have neither MDS nor L1TF vulnerability
  --pflash          comma-seperated key-value pair for setting up the pflash
                    device, which provides space to store UEFI variables.
                    block_size defaults to 4K.                                  
                    [--pflash <path=PATH,[block_size=SIZE]>]
  --pivot-root      path to empty directory to use for sandbox pivot root
  --pmem-device     path to a disk image
  --privileged-vm   grant this Guest VM certain privileges to manage Host
                    resources, such as power management
  --protected-vm    prevent host access to guest memory
  --protected-vm-with-firmware
                    (EXPERIMENTAL/FOR DEBUGGING) Use custom VM firmware to run
                    in protected mode
  --protected-vm-without-firmware
                    (EXPERIMENTAL) prevent host access to guest memory, but
                    don't use protected VM firmware
  --pstore          path to pstore buffer backend file followed by size         
                        [--pstore <path=PATH,size=SIZE>]
  --restore         path of the snapshot that is used to restore the VM on
                    startup.
  -r, --root        path to a disk image followed by optional comma-separated   
                    options.                                                    
                    Valid keys:                                                 
                        sparse=BOOL - Indicates whether the disk should support 
                            the discard operation (default: true)               
                        block_size=BYTES - Set the reported block size of the   
                           disk (default: 512)                                  
                        id=STRING - Set the block device identifier to an ASCII 
                        string, up to 20 characters (default: no ID)            
                        o_direct=BOOL - Use O_DIRECT mode to bypass page cache
  --rt-cpus         comma-separated list of CPUs or CPU ranges to run VCPUs on.
                    (e.g. 0,1-3,5) (default: none)
  --rw-pmem-device  path to a writable disk image
  --rwdisk          path to a read-write disk image followed by optional        
                    comma-separated options.                                    
                    Valid keys:                                                 
                        sparse=BOOL - Indicates whether the disk should support 
                           the discard operation (default: true)                
                        block_size=BYTES - Set the reported block size of the   
                           disk (default: 512)                                  
                        id=STRING - Set the block device identifier to an ASCII 
                          string, up to 20 characters (default: no ID)          
                        o_direct=BOOL - Use O_DIRECT mode to bypass page cache
  --rwroot          path to a read-write root disk image followed by optional   
                    comma-separated options.                                    
                    Valid keys:                                                 
                        sparse=BOOL - Indicates whether the disk should support 
                          the discard operation (default: true)                 
                        block_size=BYTES - Set the reported block size of the   
                           disk (default: 512)                                  
                        id=STRING - Set the block device identifier to an ASCII 
                           string, up to 20 characters (default: no ID)         
                        o_direct=BOOL - Use O_DIRECT mode to bypass page cache
  --s2idle          set Low Power S0 Idle Capable Flag for guest Fixed ACPI     
                    Description Table, additionally use enhanced crosvm suspend
                    and resume routines to perform full guest
                    suspension/resumption
  --seccomp-log-failures
                    instead of seccomp filter failures being fatal, they will be
                    logged instead
  --seccomp-policy-dir
                    path to seccomp .policy files
  --serial          comma separated key=value pairs for setting up serial       
                    devices. Can be given more than once.                       
                    Possible key values:                                        
                        type=(stdout,syslog,sink,file) - Where to route the     
                           serial device                                        
                        hardware=(serial,virtio-console,debugcon) - Which type  
                           of serial hardware to emulate. Defaults to 8250 UART 
                           (serial).                                            
                        num=(1,2,3,4) - Serial Device Number. If not provided,  
                           num will default to 1.                               
                        debugcon_port=PORT - Port for the debugcon device to    
                           listen to. Defaults to 0x402, which is what OVMF     
                           expects.                                             
                        path=PATH - The path to the file to write to when       
                           type=file                                            
                        input=PATH - The path to the file to read from when not 
                           stdin                                                
                        console - Use this serial device as the guest console.  
                           Can only be given once. Will default to first        
                           serial port if not provided.                         
                        earlycon - Use this serial device as the early console. 
                           Can only be given once.                              
                        stdin - Direct standard input to this serial device.    
                           Can only be given once. Will default to first serial 
                           port if not provided.
  --shared-dir      colon-separated options for configuring a directory to be   
                    shared with the VM. The first field is the directory to be  
                    shared and the second field is the tag that the VM can use  
                    to identify the device. The remaining fields are key=value  
                    pairs that may appear in any order.                         
                     Valid keys are:                                            
                        type=(p9, fs) - Indicates whether the directory should  
                           be shared via virtio-9p or virtio-fs (default: p9).  
                        uidmap=UIDMAP - The uid map to use for the device's     
                           jail in the format "inner outer                      
                           count[,inner outer count]"                           
                           (default: 0 <current euid> 1).                       
                        gidmap=GIDMAP - The gid map to use for the device's     
                           jail in the format "inner outer                      
                           count[,inner outer count]"                           
                           (default: 0 <current egid> 1).                       
                        cache=(never, auto, always) - Indicates whether the VM  
                           can cache the contents of the shared directory       
                           (default: auto).  When set to "auto" and the type    
                           is "fs", the VM will use close-to-open consistency   
                           for file contents.                                   
                        timeout=SECONDS - How long the VM should consider file  
                           attributes and directory entries to be valid         
                           (default: 5).  If the VM has exclusive access to the 
                           directory, then this should be a large value.  If    
                           the directory can be modified by other processes,    
                           then this should be 0.                               
                        writeback=BOOL - Enables writeback caching              
                           (default: false).  This is only safe to do when the  
                           VM has exclusive access to the files in a directory. 
                           Additionally, the server should have read            
                           permission for all files as the VM may issue read    
                           requests even for files that are opened write-only.  
                        dax=BOOL - Enables DAX support.  Enabling DAX can       
                           improve performance for frequently accessed files    
                           by mapping regions of the file directly into the     
                           VM's memory. There is a cost of slightly increased   
                           latency the first time the file is accessed.  Since  
                           the mapping is shared directly from the host kernel's
                           file cache, enabling DAX can improve performance even
                            when the guest cache policy is "Never".  The default
                            value for this option is "false".                   
                        posix_acl=BOOL - Indicates whether the shared directory 
                           supports POSIX ACLs.  This should only be enabled    
                           when the underlying file system supports POSIX ACLs. 
                           The default value for this option is "true".
  --single-touch    path to a socket from where to read single touch input
                    events (such as those from a touchscreen) and write status
                    updates to, optionally followed by width and height
                    (defaults to 800x1280)
  -s, --socket      path to put the control socket. If PATH is a directory, a
                    name will be generated
  --sound           path to the VioS server socket for setting up virtio-snd
                    devices
  --strict-balloon  don't allow guest to use pages from the balloon
  --stub-pci-device comma-separated key=value pairs for setting up a stub PCI   
                    device that just enumerates. The first option in the list   
                    must specify a PCI address to claim.                        
                    Optional further parameters                                 
                        vendor=NUM - PCI vendor ID                              
                        device=NUM - PCI device ID                              
                        class=NUM - PCI class (including class code, subclass,  
                           and programming interface)                           
                        subsystem_vendor=NUM - PCI subsystem vendor ID          
                        subsystem_device=NUM - PCI subsystem device ID          
                        revision=NUM - revision
  --swap            path to create the swap files from. The PATH should be a
                    directory.
  --swiotlb         (EXPERIMENTAL) Size of virtio swiotlb buffer in MiB
                    (default: 64 if `--protected-vm` or
                    `--protected-vm-without-firmware` is present)
  --switches        path to a socket from where to read switch input events and
                    write status updates to
  --syslog-tag      when logging to syslog, use the provided tag
  --tap-fd          file descriptor for configured tap device. A different
                    virtual network card will be added each time this argument
                    is given
  --tap-name        name of a configured persistent TAP interface to use for
                    networking. A different virtual network card will be added
                    each time this argument is given
  --trackpad        path to a socket from where to read trackpad input events
                    and write status updates to, optionally followed by screen
                    width and height (defaults to 800x1280)
  --unmap-guest-memory-on-fork
                    set MADV_DONTFORK on guest memory                           
                    Intended for use in combination with --protected-vm, where
                    the guest memory can be dangerous to access. Some systems,
                    e.g. Android, have tools that fork processes and examine
                    their memory. This flag effectively hides the guest memory
                    from those tools. Not compatible with sandboxing or vvu
                    devices.
  --unprotected-vm-with-firmware
                    (EXPERIMENTAL/FOR DEBUGGING) Use VM firmware, but allow host
                    access to guest memory
  --vcpu-cgroup-path
                    move all vCPU threads to this CGroup (default: nothing
                    moves)
  --vfio            path to sysfs of VFIO device.                               
                        guest-address=<BUS:DEVICE.FUNCTION> - PCI address       
                           that the device will be assigned in the guest.       
                           If not specified, the device will be assigned an     
                           address that mirrors its address in the host.        
                           Only valid for PCI devices.                          
                        iommu=viommu|coiommu|off - indicates which type of IOMMU
                           to use for this device.
  --vfio-isolate-hotplug
                    isolate all hotplugged passthrough vfio device behind
                    virtio-iommu
  --vfio-platform   path to sysfs of platform pass through
  --vhost-net       use vhost for networking
  --vhost-net-device
                    path to the vhost-net device. (default /dev/vhost-net)
  --vhost-user-blk  path to a socket for vhost-user block
  --vhost-user-console
                    path to a socket for vhost-user console
  --vhost-user-fs   path to a socket path for vhost-user fs, and tag for the
                    shared dir
  --vhost-user-gpu  paths to a vhost-user socket for gpu
  --vhost-user-mac80211-hwsim
                    path to a socket for vhost-user mac80211_hwsim
  --vhost-user-net  path to a socket for vhost-user net
  --vhost-user-snd  path to a socket for vhost-user snd
  --vhost-user-video-decoder
                    path to a socket for vhost-user video decoder
  --vhost-user-vsock
                    path to a socket for vhost-user vsock
  --vhost-user-wl   path to a vhost-user socket for wayland
  --vhost-vsock-device
                    path to the vhost-vsock device. (default /dev/vhost-vsock)
  --vhost-vsock-fd  open FD to the vhost-vsock device, mutually exclusive with
                    vhost-vsock-device
  --virtio-snd      comma separated key=value pairs for setting up virtio snd   
                    devices.                                                    
                    Possible key values:                                        
                        capture=(false,true) - Disable/enable audio capture.    
                            Default is false.                                   
                        backend=(null,[cras]) - Which backend to use for        
                            virtio-snd.                                         
                        client_type=(crosvm,arcvm,borealis) - Set specific      
                            client type for cras backend. Default is crosvm.    
                        socket_type=(legacy,unified) Set specific socket type   
                            for cras backend. Default is unified.               
                        num_output_devices=INT - Set number of output PCM       
                            devices.                                            
                        num_input_devices=INT - Set number of input PCM devices.
                        num_output_streams=INT - Set number of output PCM       
                            streams per device.                                 
                        num_input_streams=INT - Set number of input PCM streams 
                            per device.
  --vvu-proxy       socket path for the Virtio Vhost User proxy device.         
                    Parameters                                                  
                        addr=BUS:DEVICE.FUNCTION - PCI address that the proxy   
                           device will be allocated                             
                           (default: automatically allocated)                   
                        uuid=UUID - UUID which will be stored in VVU PCI config 
                           space that is readable from guest userspace
  --wayland-sock    path to the Wayland socket to use. The unnamed one is used
                    for displaying virtual screens. Named ones are only for IPC
  --x-display       X11 display name to use
  --help            display usage information

[2023-03-13T19:46:04.582795488+00:00 INFO  crosvm] exiting with success
# q# crosvm run --help[J# crosvm run --cfg /data/test.cfg [J^C
# vi /data/tes# vi /data/test.cfg [J
[?1049h[999;999H[6n[H[J[1;1H{[2;5H"kernel": "/data/Image",[3;5H"cpus": {[4;9H"num-cores": 2[5;5H},[6;5H"mem": {[7;9H"size": 1024[8;5H},[9;5H"block": [[10;9H{[11;13H"path": "/data/rootfs.cpio",[12;13H"root": true[13;9H}[14;5H],[15;5H"serial": [[16;9H{[17;13H"type": "stdout",[18;13H"hardware": "virtio-console",[19;13H"console": true,[20;13H"stdin": true[21;9H}[22;5H],[23;5H"net": [[24;9H{[25;13H"tap-name": "crosvm_tap"[26;9H}[27;5H][28;1H}[29;1H~[30;1H~[31;1H~[32;1H~[33;1H~[34;1H~[35;1H~[36;1H~[37;1H~[38;1H~[1;1H[39;1H[K- /data/test.cfg 1/28 3%[1;1H[2;1H[39;1H[K- /data/test.cfg 2/28 7%[2;1H[3;1H[39;1H[K- /data/test.cfg 3/28 10%[3;1H[4;1H[39;1H[K- /data/test.cfg 4/28 14%[4;1H[5;1H[39;1H[K- /data/test.cfg 5/28 17%[5;1H[6;1H[39;1H[K- /data/test.cfg 6/28 21%[6;1H[7;1H[39;1H[K- /data/test.cfg 7/28 25%[7;1H[8;1H[39;1H[K- /data/test.cfg 8/28 28%[8;1H[9;1H[39;1H[K- /data/test.cfg 9/28 32%[9;1H[10;1H[39;1H[K- /data/test.cfg 10/28 35%[10;1H[11;1H[39;1H[K- /data/test.cfg 11/28 39%[11;1H[12;1H[39;1H[K- /data/test.cfg 12/28 42%[12;1H[13;1H[39;1H[K- /data/test.cfg 13/28 46%[13;1H[14;1H[39;1H[K- /data/test.cfg 14/28 50%[14;1H[15;1H[39;1H[K- /data/test.cfg 15/28 53%[15;1H[16;1H[39;1H[K- /data/test.cfg 16/28 57%[16;1H[17;1H[39;1H[K- /data/test.cfg 17/28 60%[17;1H[17;2H[17;3H[17;4H[17;5H[17;6H[17;7H[17;8H[17;9H[17;10H[17;11H[17;12H[17;13H[17;14H[17;15H[17;16H[17;17H[17;18H[17;19H[17;20H[17;21H[17;22H[17;22H",      [17;22H[39;1H[KI /data/test.cfg [Modified] 17/28 60%[17;22H[17;22Hi",[17;23H[17;22H", [17;22H[17;22Hf",[17;23H[17;23Hi",[17;24H[17;24Hl",[17;25H[17;25He",[17;26H[17;25H[39;1H[K- /data/test.cfg [Modified] 17/28 60%[17;25H[18;25H[39;1H[K- /data/test.cfg [Modified] 18/28 64%[18;25H[19;25H[39;1H[K- /data/test.cfg [Modified] 19/28 67%[19;25H[20;25H[39;1H[K- /data/test.cfg [Modified] 20/28 71%[20;25H[20;1H[20;1H[39;1H[KI /data/test.cfg [Modified] 20/28 71%[20;1H[20;1H[39;1H[K- /data/test.cfg [Modified] 20/28 71%[20;1H[20;9H}                [21;5H],   [22;5H"net": [[23;5H    {   [24;9H    "tap-name": "crosvm_tap"[25;9H}                           [26;5H]    [27;1H}    [28;1H~[20;9H[39;1H[KDelete 1 lines (26 chars) from [D][20;9H[39;1H[K- /data/test.cfg [Modified] 20/27 74%[20;9H[19;9H[39;1H[K- /data/test.cfg [Modified] 19/27 70%[19;9H[18;9H[39;1H[K- /data/test.cfg [Modified] 18/27 66%[18;9H[39;1H[K:wq   [18;9H[18;9H[39;1H[K- /data/test.cfg [Modified] 18/27 66%[18;9H[19;9H[39;1H[K- /data/test.cfg [Modified] 19/27 70%[19;9H[20;9H [21;5H    }[22;5H],      [23;5H"net": [[24;9H{                           [25;9H    "tap-name": "crosvm_tap"[26;5H    }[27;1H    ][28;1H}[20;1H[39;1H[KI /data/test.cfg [Modified] 20/28 71%[20;1H[20;9H[20;17H[20;9H[20;1H[20;2H[20;3H[20;4H[20;5H[20;6H[20;7H[20;8H[20;9H[20;10H[20;11H[20;12H[20;13H[20;14H[20;15H[20;14H[20;13H[20;13H"[20;14H[20;14H"[20;15H[20;14H[20;14Hf"[20;15H[20;15Hi"[20;16H[20;16Hl"[20;17H[20;17He"[20;18H[20;17H[39;1H[K- /data/test.cfg [Modified] 20/28 71%[20;17H[39;1H[K:wq[20;17H[20;17H[39;1H[K'/data/test.cfg' 28L, 463C[20;17H[39;1H[K[?1049l# # vi /data/test.cfg [J# crosvm run --help[J# vi /data/test.cfg [J
[?1049h[999;999H[6n[H[J[1;1H{[2;5H"kernel": "/data/Image",[3;5H"cpus": {[4;9H"num-cores": 2[5;5H},[6;5H"mem": {[7;9H"size": 1024[8;5H},[9;5H"block": [[10;9H{[11;13H"path": "/data/rootfs.cpio",[12;13H"root": true[13;9H}[14;5H],[15;5H"serial": [[16;9H{[17;13H"type": "file",[18;13H"hardware": "virtio-console",[19;13H"console": true,[20;13H"file"[21;9H}[22;5H],[23;5H"net": [[24;9H{[25;13H"tap-name": "crosvm_tap"[26;9H}[27;5H][28;1H}[29;1H~[30;1H~[31;1H~[32;1H~[33;1H~[34;1H~[35;1H~[36;1H~[37;1H~[38;1H~[1;1H[39;1H[K- /data/test.cfg 1/28 3%[1;1H[2;1H[39;1H[K- /data/test.cfg 2/28 7%[2;1H[3;1H[39;1H[K- /data/test.cfg 3/28 10%[3;1H[4;1H[39;1H[K- /data/test.cfg 4/28 14%[4;1H[5;1H[39;1H[K- /data/test.cfg 5/28 17%[5;1H[6;1H[39;1H[K- /data/test.cfg 6/28 21%[6;1H[7;1H[39;1H[K- /data/test.cfg 7/28 25%[7;1H[8;1H[39;1H[K- /data/test.cfg 8/28 28%[8;1H[9;1H[39;1H[K- /data/test.cfg 9/28 32%[9;1H[10;1H[39;1H[K- /data/test.cfg 10/28 35%[10;1H[11;1H[39;1H[K- /data/test.cfg 11/28 39%[11;1H[12;1H[39;1H[K- /data/test.cfg 12/28 42%[12;1H[13;1H[39;1H[K- /data/test.cfg 13/28 46%[13;1H[14;1H[39;1H[K- /data/test.cfg 14/28 50%[14;1H[15;1H[39;1H[K- /data/test.cfg 15/28 53%[15;1H[16;1H[39;1H[K- /data/test.cfg 16/28 57%[16;1H[16;2H[16;3H[16;4H[16;5H[16;6H[16;7H[16;8H[16;9H[16;9H[16;9H[16;9H[16;9H[16;9H[16;9H[16;9H[16;9H[16;9H[17;9H[39;1H[K- /data/test.cfg 17/28 60%[17;9H[18;9H[39;1H[K- /data/test.cfg 18/28 64%[18;9H[18;10H[19;10H[39;1H[K- /data/test.cfg 19/28 67%[19;10H[19;11H[20;11H[39;1H[K- /data/test.cfg 20/28 71%[20;11H[20;12H[20;13H[20;14H[20;15H[20;16H[20;17H[20;18H[20;18H[20;17H[20;16H[20;16H[20;18H[20;18H[39;1H[K[7mNothing in register D[m[20;18H[39;1H[K- /data/test.cfg 20/28 71%[20;18H[20;19H[39;1H[KI /data/test.cfg 20/28 71%[20;19H[20;18H [20;18H[20;17H [20;17H[20;16H [20;16H[20;15H [20;15H[20;14H [20;14H[20;14Hp[20;15H[39;1H[KI /data/test.cfg [Modified] 20/28 71%[20;15H[20;15Ha[20;16H[20;16Ht[20;17H[20;17Hh[20;18H[20;18H:[20;19H[20;20H[20;19H[20;18H [20;18H[20;18H"[20;19H[20;19H:[20;20H[20;21H[20;21H/[20;22H[20;22Hd[20;23H[20;23Ha[20;24H[20;24Ht[20;25H[20;25Ha[20;26H[20;26H/[20;27H[20;27Ho[20;28H[20;28Hu[20;29H[20;29Ht[20;30H[20;30H,[20;31H[39;1H[KI /data/test.cfg [Modified] 21/29 72%[20;31H[21;9H [22;5H    }[23;5H],      [24;5H"net": [[25;9H{                           [26;9H    "tap-name": "crosvm_tap"[27;5H    }[28;1H    ][29;1H}[21;2H[21;3H[21;4H[21;5H[21;6H[21;7H[21;8H[21;9H[21;10H[21;11H[21;12H[21;13H[21;13H"[21;14H[21;14Hi[21;15H[21;15Hn[21;16H[21;16Hp[21;17H[21;17Hu[21;18H[21;17H [21;17H[21;16H [21;16H[21;16Hp[21;17H[21;17Ha[21;18H[21;18Ht[21;19H[21;19Hh[21;20H[21;20H"[21;21H[21;21H:[21;22H[21;23H[21;23H/[21;24H[21;24Hd[21;25H[21;25Ha[21;26H[21;26Ht[21;27H[21;27Ha[21;28H[21;28H/[21;29H[21;29Hi[21;30H[21;30Hn[21;31H[21;31H,[21;32H[21;31H[39;1H[K- /data/test.cfg [Modified] 21/29 72%[21;31H[39;1H[K:wq[21;31H[21;31H[39;1H[K'/data/test.cfg' 29L, 507C[21;31H[39;1H[K[?1049l# # vi /data/test.cfg [J# crosvm run --help[J# vi /data/test.cfg [J
[?1049h[999;999H[6n[H[J[1;1H{[2;5H"kernel": "/data/Image",[3;5H"cpus": {[4;9H"num-cores": 2[5;5H},[6;5H"mem": {[7;9H"size": 1024[8;5H},[9;5H"block": [[10;9H{[11;13H"path": "/data/rootfs.cpio",[12;13H"root": true[13;9H}[14;5H],[15;5H"serial": [[16;9H{[17;13H"type": "file",[18;13H"hardware": "virtio-console",[19;13H"console": true,[20;13H"path": /data/out,[21;13H"inpath": /data/in,[22;9H}[23;5H],[24;5H"net": [[25;9H{[26;13H"tap-name": "crosvm_tap"[27;9H}[28;5H][29;1H}[30;1H~[31;1H~[32;1H~[33;1H~[34;1H~[35;1H~[36;1H~[37;1H~[38;1H~[1;1H[39;1H[K- /data/test.cfg 1/29 3%[1;1H[2;1H[39;1H[K- /data/test.cfg 2/29 6%[2;1H[3;1H[39;1H[K- /data/test.cfg 3/29 10%[3;1H[4;1H[39;1H[K- /data/test.cfg 4/29 13%[4;1H[5;1H[39;1H[K- /data/test.cfg 5/29 17%[5;1H[6;1H[39;1H[K- /data/test.cfg 6/29 20%[6;1H[39;1H[K/inpa[6;1H[21;14H[39;1H[K- /data/test.cfg 21/29 72%[21;14H[21;14H[21;20H[21;20H[39;1H[KI /data/test.cfg 21/29 72%[21;20H[21;20Hn": /data/in,[21;21H[21;20H[39;1H[K- /data/test.cfg [Modified] 21/29 72%[21;20H[21;19H[21;19H[21;21H[21;21H[39;1H[KI /data/test.cfg [Modified] 21/29 72%[21;21H[21;21Hn": /data/in,[21;22H[21;21H": /data/in, [21;21H[21;20H": /data/in, [21;20H[21;19H": /data/in, [21;19H[21;18H": /data/in, [21;18H[21;17H": /data/in, [21;17H[21;16H": /data/in, [21;16H[21;15H": /data/in, [21;15H[21;14H": /data/in, [21;14H[21;14Hi": /data/in,[21;15H[21;15Hn": /data/in,[21;16H[21;16Hp": /data/in,[21;17H[21;17Hu": /data/in,[21;18H[21;18Ht": /data/in,[21;19H[21;18H[39;1H[K- /data/test.cfg [Modified] 21/29 72%[21;18H[39;1H[K:wq[21;18H[21;18H[39;1H[K'/data/test.cfg' 29L, 506C[21;18H[39;1H[K[?1049l# # vi /data/test.cfg [J# crosvm run --help[J# crosvm run --cfg /data/test.cfg [J
[2023-03-13T19:49:29.214724608+00:00 INFO  crosvm] crosvm started.
[2023-03-13T19:49:29.312410960+00:00 ERROR crosvm] arg parsing failed: Error parsing option '--cfg' with value '/data/test.cfg': expected value at line 20 column 21

[2023-03-13T19:49:29.324325888+00:00 INFO  crosvm] invalid argument
# # crosvm run --cfg /data/test.cfg [J# vi /data/test.cfg [J
[?1049h[999;999H[6n[H[J[1;1H{[2;5H"kernel": "/data/Image",[3;5H"cpus": {[4;9H"num-cores": 2[5;5H},[6;5H"mem": {[7;9H"size": 1024[8;5H},[9;5H"block": [[10;9H{[11;13H"path": "/data/rootfs.cpio",[12;13H"root": true[13;9H}[14;5H],[15;5H"serial": [[16;9H{[17;13H"type": "file",[18;13H"hardware": "virtio-console",[19;13H"console": true,[20;13H"path": /data/out,[21;13H"input": /data/in,[22;9H}[23;5H],[24;5H"net": [[25;9H{[26;13H"tap-name": "crosvm_tap"[27;9H}[28;5H][29;1H}[30;1H~[31;1H~[32;1H~[33;1H~[34;1H~[35;1H~[36;1H~[37;1H~[38;1H~[1;1H[39;1H[K- /data/test.cfg 1/29 3%[1;1H[2;1H[39;1H[K- /data/test.cfg 2/29 6%[2;1H[3;1H[39;1H[K- /data/test.cfg 3/29 10%[3;1H[4;1H[39;1H[K- /data/test.cfg 4/29 13%[4;1H[5;1H[39;1H[K- /data/test.cfg 5/29 17%[5;1H[6;1H[39;1H[K- /data/test.cfg 6/29 20%[6;1H[7;1H[39;1H[K- /data/test.cfg 7/29 24%[7;1H[8;1H[39;1H[K- /data/test.cfg 8/29 27%[8;1H[9;1H[39;1H[K- /data/test.cfg 9/29 31%[9;1H[10;1H[39;1H[K- /data/test.cfg 10/29 34%[10;1H[11;1H[39;1H[K- /data/test.cfg 11/29 37%[11;1H[12;1H[39;1H[K- /data/test.cfg 12/29 41%[12;1H[13;1H[39;1H[K- /data/test.cfg 13/29 44%[13;1H[14;1H[39;1H[K- /data/test.cfg 14/29 48%[14;1H[15;1H[39;1H[K- /data/test.cfg 15/29 51%[15;1H[16;1H[39;1H[K- /data/test.cfg 16/29 55%[16;1H[17;1H[39;1H[K- /data/test.cfg 17/29 58%[17;1H[18;1H[39;1H[K- /data/test.cfg 18/29 62%[18;1H[19;1H[39;1H[K- /data/test.cfg 19/29 65%[19;1H[20;1H[39;1H[K- /data/test.cfg 20/29 68%[20;1H[20;2H[20;3H[20;4H[20;5H[20;6H[20;7H[20;8H[20;9H[20;10H[20;11H[20;12H[20;13H[20;14H[20;15H[20;16H[20;17H[20;18H[20;19H[20;20H[20;21H[20;21H[39;1H[KI /data/test.cfg 20/29 68%[20;21H[20;21H"/data/out,[20;22H[20;23H[39;1H[KI /data/test.cfg [Modified] 20/29 68%[20;23H[20;24H[20;25H[20;26H[20;27H[20;28H[20;29H[20;30H[20;31H[20;31H",[20;32H[20;31H[20;30H[20;29H[20;28H[21;28H[39;1H[KI /data/test.cfg [Modified] 21/29 72%[21;28H[21;27H[21;26H[21;25H[21;24H[21;23H[21;22H[21;22H:/data/in,[21;23H[21;22H/data/in, [21;22H[21;22H"/data/in,[21;23H[21;24H[21;25H[21;26H[21;27H[21;28H[21;29H[21;30H[21;31H[21;31H",[21;32H[21;31H[39;1H[K- /data/test.cfg [Modified] 21/29 72%[21;31H[39;1H[K:wq[21;31H[21;31H[39;1H[K'/data/test.cfg' 29L, 510C[21;31H[39;1H[K[?1049l# # vi /data/test.cfg [J# crosvm run --cfg /data/test.cfg [J
[2023-03-13T19:49:58.027604624+00:00 INFO  crosvm] crosvm started.
[2023-03-13T19:49:58.104837440+00:00 ERROR crosvm] arg parsing failed: Error parsing option '--cfg' with value '/data/test.cfg': trailing comma at line 22 column 9

[2023-03-13T19:49:58.128544032+00:00 INFO  crosvm] invalid argument
# # crosvm run --cfg /data/test.cfg [J
[2023-03-13T19:50:01.306376768+00:00 INFO  crosvm] crosvm started.
[2023-03-13T19:50:01.363269728+00:00 ERROR crosvm] arg parsing failed: Error parsing option '--cfg' with value '/data/test.cfg': trailing comma at line 22 column 9

[2023-03-13T19:50:01.376109248+00:00 INFO  crosvm] invalid argument
# # crosvm run --cfg /data/test.cfg [J# vi /data/test.cfg [J
[?1049h[999;999H[6n[H[J[1;1H{[2;5H"kernel": "/data/Image",[3;5H"cpus": {[4;9H"num-cores": 2[5;5H},[6;5H"mem": {[7;9H"size": 1024[8;5H},[9;5H"block": [[10;9H{[11;13H"path": "/data/rootfs.cpio",[12;13H"root": true[13;9H}[14;5H],[15;5H"serial": [[16;9H{[17;13H"type": "file",[18;13H"hardware": "virtio-console",[19;13H"console": true,[20;13H"path": "/data/out",[21;13H"input": "/data/in",[22;9H}[23;5H],[24;5H"net": [[25;9H{[26;13H"tap-name": "crosvm_tap"[27;9H}[28;5H][29;1H}[30;1H~[31;1H~[32;1H~[33;1H~[34;1H~[35;1H~[36;1H~[37;1H~[38;1H~[1;1H[39;1H[K- /data/test.cfg 1/29 3%[1;1H[2;1H[39;1H[K- /data/test.cfg 2/29 6%[2;1H[3;1H[39;1H[K- /data/test.cfg 3/29 10%[3;1H[4;1H[39;1H[K- /data/test.cfg 4/29 13%[4;1H[5;1H[39;1H[K- /data/test.cfg 5/29 17%[5;1H[6;1H[39;1H[K- /data/test.cfg 6/29 20%[6;1H[7;1H[39;1H[K- /data/test.cfg 7/29 24%[7;1H[8;1H[39;1H[K- /data/test.cfg 8/29 27%[8;1H[9;1H[39;1H[K- /data/test.cfg 9/29 31%[9;1H[10;1H[39;1H[K- /data/test.cfg 10/29 34%[10;1H[11;1H[39;1H[K- /data/test.cfg 11/29 37%[11;1H[12;1H[39;1H[K- /data/test.cfg 12/29 41%[12;1H[13;1H[39;1H[K- /data/test.cfg 13/29 44%[13;1H[14;1H[39;1H[K- /data/test.cfg 14/29 48%[14;1H[15;1H[39;1H[K- /data/test.cfg 15/29 51%[15;1H[16;1H[39;1H[K- /data/test.cfg 16/29 55%[16;1H[17;1H[39;1H[K- /data/test.cfg 17/29 58%[17;1H[17;2H[17;3H[17;4H[17;5H[17;6H[17;7H[17;8H[17;9H[39;1H[K:q[17;9H[17;9H[39;1H[K- /data/test.cfg 17/29 58%[17;9H[39;1H[K[?1049l# # vi /data/test.cfg [J# crosvm run --cfg /data/test.cfg [J# vi /data/test.cfg [J# crosvm run --cfg /data/test.cfg [J# vi /data/test.cfg [J# crosvm run --help[J
[2023-03-13T19:50:15.814170640+00:00 INFO  crosvm] crosvm started.
Usage: crosvm run [<KERNEL>] [--ac97 <[backend=BACKEND,capture=true,capture_effect=EFFECT,client_type=TYPE,shm-fd=FD,client-fd=FD,server-fd=FD]...>] [--acpi-table <PATH...>] [--android-fstab <android-fstab>] [--async-executor <EXECUTOR>] [--balloon-bias-mib <N>] [--balloon-control <PATH>] [--balloon-page-reporting] [--battery <battery>] [--bios <bios>] [-b <PATH[,key=value[,key=value[,...]]]...>] [--cfg <CONFIG_FILE>] [--cid <CID>] [--coiommu <unpin_policy=POLICY,unpin_interval=NUM,unpin_limit=NUM,unpin_gen_threshold=NUM>] [--cpu-affinity <CPUSET>] [--cpu-capacity <CPU=CAP[,CPU=CAP[,...]]>] [--cpu-cluster <CPUSET...>] [-c <cpus>] [--delay-rt] [--disable-sandbox] [--disable-virtio-intx] [-d <PATH[,key=value[,key=value[,...]]]...>] [--display-window-keyboard] [--display-window-mouse] [--dmi <DIR>] [--dump-device-tree-blob <FILE>] [--enable-hwp] [--enable-pnp-data] [--evdev <PATH...>] [--file-backed-mapping <addr=NUM,size=SIZE,path=PATH[,offset=NUM][,rw][,sync]...>] [--host-cpu-topology] [--host-ip <IP>] [--hugepages] [--hypervisor <hypervisor>] [--init-mem <N>] [-i <PATH>] [--itmt] [--keyboard <PATH...>] [--kvm-device <PATH>] [--lock-guest-memory] [--mac <MAC>] [-m <N>] [--mmio-address-range <mmio-address-range>] [--mouse <PATH...>] [--mte] [--multi-touch <PATH:WIDTH:HEIGHT...>] [--net <(tap-name=TAP_NAME,mac=MAC_ADDRESS|tap-fd=TAP_FD,mac=MAC_ADDRESS|host-ip=IP,netmask=NETMASK,mac=MAC_ADDRESS),vhost-net=VHOST_NET...>] [--net-vq-pairs <N>] [--netmask <NETMASK>] [--no-balloon] [--no-rng] [--no-smt] [--no-usb] [-p <PARAMS...>] [--per-vm-core-scheduling] [--pflash <path=PATH,[block_size=SIZE]>] [--pivot-root <PATH>] [--pmem-device <PATH...>] [--privileged-vm] [--protected-vm] [--protected-vm-with-firmware <PATH>] [--protected-vm-without-firmware] [--pstore <path=PATH,size=SIZE>] [--restore <PATH>] [-r <PATH[,key=value[,key=value[,...]]]>] [--rt-cpus <CPUSET>] [--rw-pmem-device <PATH...>] [--rwdisk <PATH[,key=value[,key=value[,...]]]...>] [--rwroot <PATH[,key=value[,key=value[,...]]]>] [--s2idle] [--seccomp-log-failures] [--seccomp-policy-dir <PATH>] [--serial <type=TYPE,[hardware=HW,num=NUM,path=PATH,input=PATH,console,earlycon,stdin]...>] [--shared-dir <PATH:TAG[:type=TYPE:writeback=BOOL:timeout=SECONDS:uidmap=UIDMAP:gidmap=GIDMAP:cache=CACHE:dax=BOOL,posix_acl=BOOL]...>] [--single-touch <PATH:WIDTH:HEIGHT...>] [-s <PATH>] [--sound <PATH>] [--strict-balloon] [--stub-pci-device <DOMAIN:BUS:DEVICE.FUNCTION[,vendor=NUM][,device=NUM][,class=NUM][,subsystem_vendor=NUM][,subsystem_device=NUM][,revision=NUM]...>] [--swap <PATH>] [--swiotlb <N>] [--switches <PATH...>] [--syslog-tag <TAG>] [--tap-fd <tap-fd...>] [--tap-name <tap-name...>] [--trackpad <PATH:WIDTH:HEIGHT...>] [--unmap-guest-memory-on-fork] [--unprotected-vm-with-firmware <PATH>] [--vcpu-cgroup-path <PATH>] [--vfio <PATH[,guest-address=<BUS:DEVICE.FUNCTION>][,iommu=viommu|coiommu|off]...>] [--vfio-isolate-hotplug] [--vfio-platform <PATH...>] [--vhost-net] [--vhost-net-device <PATH>] [--vhost-user-blk <SOCKET_PATH...>] [--vhost-user-console <SOCKET_PATH...>] [--vhost-user-fs <SOCKET_PATH:TAG...>] [--vhost-user-gpu <SOCKET_PATH...>] [--vhost-user-mac80211-hwsim <SOCKET_PATH>] [--vhost-user-net <SOCKET_PATH...>] [--vhost-user-snd <SOCKET_PATH...>] [--vhost-user-video-decoder <SOCKET_PATH...>] [--vhost-user-vsock <SOCKET_PATH...>] [--vhost-user-wl <SOCKET_PATH>] [--vhost-vsock-device <SOCKET_PATH>] [--vhost-vsock-fd <FD>] [--virtio-snd <[capture=true,backend=BACKEND,num_output_devices=1,
        num_input_devices=1,num_output_streams=1,num_input_streams=1]...>] [--vvu-proxy <SOCKET_PATH[,addr=DOMAIN:BUS:DEVICE.FUNCTION,uuid=UUID]...>] [--wayland-sock <PATH[,name=NAME]...>] [--x-display <DISPLAY>]

Start a new crosvm instance

Positional Arguments:
  KERNEL            bzImage of kernel to run

Options:
  --ac97            comma separated key=value pairs for setting up Ac97 devices.
                    Can be given more than once.                                
                    Possible key values:                                        
                        backend=(null, cras) - Where to route the audio         
                             device. If not provided, backend will default to   
                             null. `null` for /dev/null, cras for CRAS server.  
                        capture - Enable audio capture                          
                        capture_effects - | separated effects to be enabled for 
                            recording. The only supported effect value now is   
                            EchoCancellation or aec.                            
                        client_type - Set specific client type for cras backend.
                        socket_type - Set specific socket type for cras backend.
  --acpi-table      path to user provided ACPI table
  --android-fstab   path to Android fstab
  --async-executor  configure async executor backend; "uring" or "epoll" on
                    Linux, "handle" on Windows. If this option is omitted on
                    Linux, "epoll" is used by default.
  --balloon-bias-mib
                    amount to bias balance of memory between host and guest as
                    the balloon inflates, in mib.
  --balloon-control path for balloon controller socket.
  --balloon-page-reporting
                    enable page reporting in balloon.
  --battery         comma separated key=value pairs for setting up battery      
                    device                                                      
                    Possible key values:                                        
                        type=goldfish - type of battery emulation, defaults to  
                        goldfish
  --bios            path to BIOS/firmware ROM
  -b, --block       parameters for setting up a block device.                   
                    Valid keys:                                                 
                        path=PATH - Path to the disk image. Can be specified    
                            without the key as the first argument.              
                        ro=BOOL - Whether the block should be read-only.        
                            (default: false)                                    
                        root=BOOL - Whether the block device should be mounted  
                            as the root filesystem. This will add the required  
                            parameters to the kernel command-line. Can only be  
                            specified once. (default: false)                    
                        sparse=BOOL - Indicates whether the disk should support 
                            the discard operation. (default: true)              
                        block-size=BYTES - Set the reported block size of the   
                            disk. (default: 512)                                
                        id=STRING - Set the block device identifier to an ASCII 
                            string, up to 20 characters. (default: no ID)       
                        direct=BOOL - Use O_DIRECT mode to bypass page cache.   
                            (default: false)                                    
                        async-executor=epoll|uring - set the async executor kind
                            to simulate the block device with. This takes       
                            precedence over the global --async-executor option. 
                        multiple-workers=BOOL - (Experimental) run multiple     
                            worker threads in parallel. this option is not      
                            effective for vhost-user blk device.                
                            (default: false)
  --cfg             path to a JSON configuration file to load.                  
                    The options specified in the file can be overridden or
                    augmented by other command-line parameters.
  --cid             context ID for virtual sockets.
  --coiommu         comma separated key=value pairs for setting up coiommu      
                    devices.                                                    
                    Possible key values:                                        
                        unpin_policy=lru - LRU unpin policy.                    
                        unpin_interval=NUM - Unpin interval time in seconds.    
                        unpin_limit=NUM - Unpin limit for each unpin cycle, in  
                           unit of page count. 0 is invalid.                    
                        unpin_gen_threshold=NUM -  Number of unpin intervals a  
                           pinned page must be busy for to be aged into the     
                           older which is less frequently checked generation.
  --cpu-affinity    comma-separated list of CPUs or CPU ranges to run VCPUs on
                    (e.g. 0,1-3,5) or colon-separated list of assignments of
                    guest to host CPU assignments (e.g. 0=0:1=1:2=2) (default:
                    no mask)
  --cpu-capacity    set the relative capacity of the given CPU (default: no
                    capacity)
  --cpu-cluster     group the given CPUs into a cluster (default: no clusters)
  -c, --cpus        cpu parameters.                                             
                    Possible key values:                                        
                        num-cores=NUM - number of VCPUs. (default: 1)           
                        clusters=[[CLUSTER],...] - CPU clusters (default: None) 
                          Each CLUSTER is a set containing a list of CPUs       
                          that should belong to the same cluster. Individual    
                          CPU ids or ranges can be specified, comma-separated.  
                          Examples:                                             
                          clusters=[[0],[1],[2],[3]] - creates 4 clusters, one  
                            for each specified core.                            
                          clusters=[[0-3]] - creates a cluster for cores 0 to 3 
                            included.                                           
                          clusters=[[0,2],[1,3],[4-7,12]] - creates one cluster 
                            for cores 0 and 2, another one for cores 1 and 3,   
                            and one last for cores 4, 5, 6, 7 and 12.           
                        core-types=[atom=[CPUSET],core=[CPUSET]] - Hybrid core
                    types. (default: None)       Set the type of virtual hybrid
                    CPUs. Now it supports         to set intel Atom or intel
                    Core types.                       Examples:                 
                                                     
                    core-types=[atom=[0,1],core=[2,3]] - set vCPU 0 and         
                    vCPU 1 as intel Atom type, also set vCPU 2 and vCPU 3       
                    as intel Core type.
  --delay-rt        don't set VCPUs real-time until make-rt command is run
  --disable-sandbox run all devices in one, non-sandboxed process
  --disable-virtio-intx
                    disable INTx in virtio devices
  -d, --disk        path to a disk image followed by optional comma-separated   
                    options.                                                    
                    Valid keys:                                                 
                       sparse=BOOL - Indicates whether the disk should support  
                           the discard operation (default: true)                
                       block_size=BYTES - Set the reported block size of the    
                           disk (default: 512)                                  
                       id=STRING - Set the block device identifier to an ASCII  
                           string, up to 20 characters (default: no ID)         
                       o_direct=BOOL - Use O_DIRECT mode to bypass page cache"
  --display-window-keyboard
                    capture keyboard input from the display window
  --display-window-mouse
                    capture keyboard input from the display window
  --dmi             directory with smbios_entry_point/DMI files
  --dump-device-tree-blob
                    dump generated device tree as a DTB file
  --enable-hwp      expose HWP feature to the guest
  --enable-pnp-data expose Power and Perfomance (PnP) data to guest and guest
                    can show these PnP data
  --evdev           path to an event device node. The device will be grabbed
                    (unusable from the host) and made available to the guest
                    with the same configuration it shows on the host
  --file-backed-mapping
                    map the given file into guest memory at the specified       
                    address.                                                    
                    Parameters (addr, size, path are required):                 
                        addr=NUM - guest physical address to map at             
                        size=NUM - amount of memory to map                      
                        path=PATH - path to backing file/device to map          
                        offset=NUM - offset in backing file (default 0)         
                        rw - make the mapping writable (default readonly)       
                        sync - open backing file with O_SYNC                    
                        align - whether to adjust addr and size to page         
                           boundaries implicitly
  --host-cpu-topology
                    use mirror cpu topology of Host for Guest VM, also copy some
                    cpu feature to Guest VM
  --host-ip         IP address to assign to host tap interface
  --hugepages       advise the kernel to use Huge Pages for guest memory
                    mappings
  --hypervisor      hypervisor backend
  --init-mem        amount of guest memory outside the balloon at boot in MiB.
                    (default: --mem)
  -i, --initrd      initial ramdisk to load
  --itmt            allow to enable ITMT scheduling feature in VM. The success
                    of enabling depends on HWP and ACPI CPPC support on hardware
  --keyboard        path to a socket from where to read keyboard input events
                    and write status updates to
  --kvm-device      path to the KVM device. (default /dev/kvm)
  --lock-guest-memory
                    disable host swap on guest VM pages.
  --mac             MAC address for VM
  -m, --mem         memory parameters.                                          
                    Possible key values:                                        
                        size=NUM - amount of guest memory in MiB. (default: 256)
  --mmio-address-range
                    MMIO address ranges
  --mouse           path to a socket from where to read mouse input events and
                    write status updates to
  --mte             enable the Memory Tagging Extension in the guest
  --multi-touch     path to a socket from where to read multi touch input events
                    (such as those from a touchscreen) and write status updates
                    to, optionally followed by width and height (defaults to
                    800x1280)
  --net             comma separated key=value pairs for setting up a network    
                    device.                                                     
                    Possible key values:                                        
                      (                                                         
                         tap-name=STRING - name of a configured persistent TAP  
                                             interface to use for networking.   
                         mac=STRING      - MAC address for VM. [Optional]       
                       OR                                                       
                         tap-fd=INT      - File descriptor for configured tap   
                                             device.                            
                         mac=STRING      - MAC address for VM. [Optional]       
                       OR                                                       
                         (                                                      
                            host-ip=STRING  - IP address to assign to host tap  
                                                interface.                      
                          AND                                                   
                            netmask=STRING  - Netmask for VM subnet.            
                          AND                                                   
                            mac=STRING      - MAC address for VM.               
                         )                                                      
                      )                                                         
                    AND                                                         
                      vhost-net=BOOL  - whether enable vhost_net or not.        
                                          Default: false.  [Optional]           
                    Either one tap_name, one tap_fd or a triplet of host_ip,    
                    netmask and mac must be specified.
  --net-vq-pairs    virtio net virtual queue pairs. (default: 1)
  --netmask         netmask for VM subnet
  --no-balloon      don't use virtio-balloon device in the guest
  --no-rng          don't create RNG device in the guest
  --no-smt          don't use SMT in the guest
  --no-usb          don't use usb devices in the guest
  -p, --params      extra kernel or plugin command line arguments. Can be given
                    more than once
  --per-vm-core-scheduling
                    enable per-VM core scheduling intead of the default one
                    (per-vCPU core scheduing) by making all vCPU threads share
                    same cookie for core scheduling. This option is no-op on
                    devices that have neither MDS nor L1TF vulnerability
  --pflash          comma-seperated key-value pair for setting up the pflash
                    device, which provides space to store UEFI variables.
                    block_size defaults to 4K.                                  
                    [--pflash <path=PATH,[block_size=SIZE]>]
  --pivot-root      path to empty directory to use for sandbox pivot root
  --pmem-device     path to a disk image
  --privileged-vm   grant this Guest VM certain privileges to manage Host
                    resources, such as power management
  --protected-vm    prevent host access to guest memory
  --protected-vm-with-firmware
                    (EXPERIMENTAL/FOR DEBUGGING) Use custom VM firmware to run
                    in protected mode
  --protected-vm-without-firmware
                    (EXPERIMENTAL) prevent host access to guest memory, but
                    don't use protected VM firmware
  --pstore          path to pstore buffer backend file followed by size         
                        [--pstore <path=PATH,size=SIZE>]
  --restore         path of the snapshot that is used to restore the VM on
                    startup.
  -r, --root        path to a disk image followed by optional comma-separated   
                    options.                                                    
                    Valid keys:                                                 
                        sparse=BOOL - Indicates whether the disk should support 
                            the discard operation (default: true)               
                        block_size=BYTES - Set the reported block size of the   
                           disk (default: 512)                                  
                        id=STRING - Set the block device identifier to an ASCII 
                        string, up to 20 characters (default: no ID)            
                        o_direct=BOOL - Use O_DIRECT mode to bypass page cache
  --rt-cpus         comma-separated list of CPUs or CPU ranges to run VCPUs on.
                    (e.g. 0,1-3,5) (default: none)
  --rw-pmem-device  path to a writable disk image
  --rwdisk          path to a read-write disk image followed by optional        
                    comma-separated options.                                    
                    Valid keys:                                                 
                        sparse=BOOL - Indicates whether the disk should support 
                           the discard operation (default: true)                
                        block_size=BYTES - Set the reported block size of the   
                           disk (default: 512)                                  
                        id=STRING - Set the block device identifier to an ASCII 
                          string, up to 20 characters (default: no ID)          
                        o_direct=BOOL - Use O_DIRECT mode to bypass page cache
  --rwroot          path to a read-write root disk image followed by optional   
                    comma-separated options.                                    
                    Valid keys:                                                 
                        sparse=BOOL - Indicates whether the disk should support 
                          the discard operation (default: true)                 
                        block_size=BYTES - Set the reported block size of the   
                           disk (default: 512)                                  
                        id=STRING - Set the block device identifier to an ASCII 
                           string, up to 20 characters (default: no ID)         
                        o_direct=BOOL - Use O_DIRECT mode to bypass page cache
  --s2idle          set Low Power S0 Idle Capable Flag for guest Fixed ACPI     
                    Description Table, additionally use enhanced crosvm suspend
                    and resume routines to perform full guest
                    suspension/resumption
  --seccomp-log-failures
                    instead of seccomp filter failures being fatal, they will be
                    logged instead
  --seccomp-policy-dir
                    path to seccomp .policy files
  --serial          comma separated key=value pairs for setting up serial       
                    devices. Can be given more than once.                       
                    Possible key values:                                        
                        type=(stdout,syslog,sink,file) - Where to route the     
                           serial device                                        
                        hardware=(serial,virtio-console,debugcon) - Which type  
                           of serial hardware to emulate. Defaults to 8250 UART 
                           (serial).                                            
                        num=(1,2,3,4) - Serial Device Number. If not provided,  
                           num will default to 1.                               
                        debugcon_port=PORT - Port for the debugcon device to    
                           listen to. Defaults to 0x402, which is what OVMF     
                           expects.                                             
                        path=PATH - The path to the file to write to when       
                           type=file                                            
                        input=PATH - The path to the file to read from when not 
                           stdin                                                
                        console - Use this serial device as the guest console.  
                           Can only be given once. Will default to first        
                           serial port if not provided.                         
                        earlycon - Use this serial device as the early console. 
                           Can only be given once.                              
                        stdin - Direct standard input to this serial device.    
                           Can only be given once. Will default to first serial 
                           port if not provided.
  --shared-dir      colon-separated options for configuring a directory to be   
                    shared with the VM. The first field is the directory to be  
                    shared and the second field is the tag that the VM can use  
                    to identify the device. The remaining fields are key=value  
                    pairs that may appear in any order.                         
                     Valid keys are:                                            
                        type=(p9, fs) - Indicates whether the directory should  
                           be shared via virtio-9p or virtio-fs (default: p9).  
                        uidmap=UIDMAP - The uid map to use for the device's     
                           jail in the format "inner outer                      
                           count[,inner outer count]"                           
                           (default: 0 <current euid> 1).                       
                        gidmap=GIDMAP - The gid map to use for the device's     
                           jail in the format "inner outer                      
                           count[,inner outer count]"                           
                           (default: 0 <current egid> 1).                       
                        cache=(never, auto, always) - Indicates whether the VM  
                           can cache the contents of the shared directory       
                           (default: auto).  When set to "auto" and the type    
                           is "fs", the VM will use close-to-open consistency   
                           for file contents.                                   
                        timeout=SECONDS - How long the VM should consider file  
                           attributes and directory entries to be valid         
                           (default: 5).  If the VM has exclusive access to the 
                           directory, then this should be a large value.  If    
                           the directory can be modified by other processes,    
                           then this should be 0.                               
                        writeback=BOOL - Enables writeback caching              
                           (default: false).  This is only safe to do when the  
                           VM has exclusive access to the files in a directory. 
                           Additionally, the server should have read            
                           permission for all files as the VM may issue read    
                           requests even for files that are opened write-only.  
                        dax=BOOL - Enables DAX support.  Enabling DAX can       
                           improve performance for frequently accessed files    
                           by mapping regions of the file directly into the     
                           VM's memory. There is a cost of slightly increased   
                           latency the first time the file is accessed.  Since  
                           the mapping is shared directly from the host kernel's
                           file cache, enabling DAX can improve performance even
                            when the guest cache policy is "Never".  The default
                            value for this option is "false".                   
                        posix_acl=BOOL - Indicates whether the shared directory 
                           supports POSIX ACLs.  This should only be enabled    
                           when the underlying file system supports POSIX ACLs. 
                           The default value for this option is "true".
  --single-touch    path to a socket from where to read single touch input
                    events (such as those from a touchscreen) and write status
                    updates to, optionally followed by width and height
                    (defaults to 800x1280)
  -s, --socket      path to put the control socket. If PATH is a directory, a
                    name will be generated
  --sound           path to the VioS server socket for setting up virtio-snd
                    devices
  --strict-balloon  don't allow guest to use pages from the balloon
  --stub-pci-device comma-separated key=value pairs for setting up a stub PCI   
                    device that just enumerates. The first option in the list   
                    must specify a PCI address to claim.                        
                    Optional further parameters                                 
                        vendor=NUM - PCI vendor ID                              
                        device=NUM - PCI device ID                              
                        class=NUM - PCI class (including class code, subclass,  
                           and programming interface)                           
                        subsystem_vendor=NUM - PCI subsystem vendor ID          
                        subsystem_device=NUM - PCI subsystem device ID          
                        revision=NUM - revision
  --swap            path to create the swap files from. The PATH should be a
                    directory.
  --swiotlb         (EXPERIMENTAL) Size of virtio swiotlb buffer in MiB
                    (default: 64 if `--protected-vm` or
                    `--protected-vm-without-firmware` is present)
  --switches        path to a socket from where to read switch input events and
                    write status updates to
  --syslog-tag      when logging to syslog, use the provided tag
  --tap-fd          file descriptor for configured tap device. A different
                    virtual network card will be added each time this argument
                    is given
  --tap-name        name of a configured persistent TAP interface to use for
                    networking. A different virtual network card will be added
                    each time this argument is given
  --trackpad        path to a socket from where to read trackpad input events
                    and write status updates to, optionally followed by screen
                    width and height (defaults to 800x1280)
  --unmap-guest-memory-on-fork
                    set MADV_DONTFORK on guest memory                           
                    Intended for use in combination with --protected-vm, where
                    the guest memory can be dangerous to access. Some systems,
                    e.g. Android, have tools that fork processes and examine
                    their memory. This flag effectively hides the guest memory
                    from those tools. Not compatible with sandboxing or vvu
                    devices.
  --unprotected-vm-with-firmware
                    (EXPERIMENTAL/FOR DEBUGGING) Use VM firmware, but allow host
                    access to guest memory
  --vcpu-cgroup-path
                    move all vCPU threads to this CGroup (default: nothing
                    moves)
  --vfio            path to sysfs of VFIO device.                               
                        guest-address=<BUS:DEVICE.FUNCTION> - PCI address       
                           that the device will be assigned in the guest.       
                           If not specified, the device will be assigned an     
                           address that mirrors its address in the host.        
                           Only valid for PCI devices.                          
                        iommu=viommu|coiommu|off - indicates which type of IOMMU
                           to use for this device.
  --vfio-isolate-hotplug
                    isolate all hotplugged passthrough vfio device behind
                    virtio-iommu
  --vfio-platform   path to sysfs of platform pass through
  --vhost-net       use vhost for networking
  --vhost-net-device
                    path to the vhost-net device. (default /dev/vhost-net)
  --vhost-user-blk  path to a socket for vhost-user block
  --vhost-user-console
                    path to a socket for vhost-user console
  --vhost-user-fs   path to a socket path for vhost-user fs, and tag for the
                    shared dir
  --vhost-user-gpu  paths to a vhost-user socket for gpu
  --vhost-user-mac80211-hwsim
                    path to a socket for vhost-user mac80211_hwsim
  --vhost-user-net  path to a socket for vhost-user net
  --vhost-user-snd  path to a socket for vhost-user snd
  --vhost-user-video-decoder
                    path to a socket for vhost-user video decoder
  --vhost-user-vsock
                    path to a socket for vhost-user vsock
  --vhost-user-wl   path to a vhost-user socket for wayland
  --vhost-vsock-device
                    path to the vhost-vsock device. (default /dev/vhost-vsock)
  --vhost-vsock-fd  open FD to the vhost-vsock device, mutually exclusive with
                    vhost-vsock-device
  --virtio-snd      comma separated key=value pairs for setting up virtio snd   
                    devices.                                                    
                    Possible key values:                                        
                        capture=(false,true) - Disable/enable audio capture.    
                            Default is false.                                   
                        backend=(null,[cras]) - Which backend to use for        
                            virtio-snd.                                         
                        client_type=(crosvm,arcvm,borealis) - Set specific      
                            client type for cras backend. Default is crosvm.    
                        socket_type=(legacy,unified) Set specific socket type   
                            for cras backend. Default is unified.               
                        num_output_devices=INT - Set number of output PCM       
                            devices.                                            
                        num_input_devices=INT - Set number of input PCM devices.
                        num_output_streams=INT - Set number of output PCM       
                            streams per device.                                 
                        num_input_streams=INT - Set number of input PCM streams 
                            per device.
  --vvu-proxy       socket path for the Virtio Vhost User proxy device.         
                    Parameters                                                  
                        addr=BUS:DEVICE.FUNCTION - PCI address that the proxy   
                           device will be allocated                             
                           (default: automatically allocated)                   
                        uuid=UUID - UUID which will be stored in VVU PCI config 
                           space that is readable from guest userspace
  --wayland-sock    path to the Wayland socket to use. The unnamed one is used
                    for displaying virtual screens. Named ones are only for IPC
  --x-display       X11 display name to use
  --help            display usage information

[2023-03-13T19:50:16.289699200+00:00 INFO  crosvm] exiting with success
# 
# mkdir [J[J[J[J[J[Jtouch /dta[J[Jata/in
# # touch /data/in[J[J[Jout
# # touch /data/out[J# touch /data/in[J# crosvm run --help[J# vi /data/test.cfg [J# crosvm run --cfg /data/test.cfg [J
[2023-03-13T19:51:08.600014656+00:00 INFO  crosvm] crosvm started.
[2023-03-13T19:51:08.634344288+00:00 ERROR crosvm] arg parsing failed: Error parsing option '--cfg' with value '/data/test.cfg': trailing comma at line 22 column 9

[2023-03-13T19:51:08.668966256+00:00 INFO  crosvm] invalid argument
# # crosvm run --cfg /data/test.cfg [J# touch /data/out[J# touch /data/in[J# crosvm run --help[J# vi /data/test.cfg [J
[?1049h[999;999H[6n[H[J[1;1H{[2;5H"kernel": "/data/Image",[3;5H"cpus": {[4;9H"num-cores": 2[5;5H},[6;5H"mem": {[7;9H"size": 1024[8;5H},[9;5H"block": [[10;9H{[11;13H"path": "/data/rootfs.cpio",[12;13H"root": true[13;9H}[14;5H],[15;5H"serial": [[16;9H{[17;13H"type": "file",[18;13H"hardware": "virtio-console",[19;13H"console": true,[20;13H"path": "/data/out",[21;13H"input": "/data/in",[22;9H}[23;5H],[24;5H"net": [[25;9H{[26;13H"tap-name": "crosvm_tap"[27;9H}[28;5H][29;1H}[30;1H~[31;1H~[32;1H~[33;1H~[34;1H~[35;1H~[36;1H~[37;1H~[38;1H~[1;1H[39;1H[K- /data/test.cfg 1/29 3%[1;1H[2;1H[39;1H[K- /data/test.cfg 2/29 6%[2;1H[3;1H[39;1H[K- /data/test.cfg 3/29 10%[3;1H[4;1H[39;1H[K- /data/test.cfg 4/29 13%[4;1H[5;1H[39;1H[K- /data/test.cfg 5/29 17%[5;1H[6;1H[39;1H[K- /data/test.cfg 6/29 20%[6;1H[7;1H[39;1H[K- /data/test.cfg 7/29 24%[7;1H[8;1H[39;1H[K- /data/test.cfg 8/29 27%[8;1H[9;1H[39;1H[K- /data/test.cfg 9/29 31%[9;1H[10;1H[39;1H[K- /data/test.cfg 10/29 34%[10;1H[11;1H[39;1H[K- /data/test.cfg 11/29 37%[11;1H[12;1H[39;1H[K- /data/test.cfg 12/29 41%[12;1H[13;1H[39;1H[K- /data/test.cfg 13/29 44%[13;1H[14;1H[39;1H[K- /data/test.cfg 14/29 48%[14;1H[15;1H[39;1H[K- /data/test.cfg 15/29 51%[15;1H[16;1H[39;1H[K- /data/test.cfg 16/29 55%[16;1H[17;1H[39;1H[K- /data/test.cfg 17/29 58%[17;1H[18;1H[39;1H[K- /data/test.cfg 18/29 62%[18;1H[19;1H[39;1H[K- /data/test.cfg 19/29 65%[19;1H[20;1H[39;1H[K- /data/test.cfg 20/29 68%[20;1H[21;1H[39;1H[K- /data/test.cfg 21/29 72%[21;1H[22;1H[39;1H[K- /data/test.cfg 22/29 75%[22;1H[21;1H[39;1H[K- /data/test.cfg 21/29 72%[21;1H[21;33H[39;1H[KI /data/test.cfg 21/29 72%[21;33H[21;32H [21;32H[21;31H[39;1H[K- /data/test.cfg [Modified] 21/29 72%[21;31H[39;1H[K:wq[21;31H[21;31H[39;1H[K'/data/test.cfg' 29L, 509C[21;31H[39;1H[K[?1049l# # vi /data/test.cfg [J# crosvm run --cfg /data/test.cfg [J
[2023-03-13T19:51:24.660203088+00:00 INFO  crosvm] crosvm started.
[2023-03-13T19:51:24.692034496+00:00 INFO  crosvm] CLI arguments parsed.
[2023-03-13T19:51:24.708030592+00:00 WARN  crosvm::crosvm::cmdline] `--cfg` is still experimental and the configuration file format may change
[2023-03-13T19:51:24.763455568+00:00 INFO  crosvm::crosvm::sys::unix] crosvm entering multiprocess mode
[2023-03-13T19:51:24.777861696+00:00 INFO  crosvm::crosvm::sys::unix::device_helpers] Trying to attach block device: /data/rootfs.cpio
[2023-03-13T19:51:24.804780592+00:00 INFO  disk] disk size 5378048, 
[2023-03-13T19:51:24.824601296+00:00 INFO  disk] Disk image file is hosted on file system type 858458f6
crosvm[1]: libminijail[1]: pivot_root: Invalid argument
crosvm[1]: libminijail[1]: pivot_root: Invalid argument
crosvm[1]: libminijail[1]: pivot_root: Invalid argument
crosvm[1]: libminijail[1]: pivot_root: Invalid argument
crosvm[1]: libminijail[1]: pivot_root: Invalid argument
crosvm[1]: libminijail[1]: pivot_root: Invalid argument
[2023-03-13T19:51:27.432637840+00:00 ERROR crosvm::crosvm::sys::unix] child pcivirtio-console (pid 255) exited: signo 17, status 5, code 2
[2023-03-13T19:51:27.449170160+00:00 ERROR crosvm::crosvm::sys::unix] child pid 268 exited: signo 17, status 5, code 2
[2023-03-13T19:51:27.500284672+00:00 ERROR devices::proxy] failed write to child device process serial: failed to send packet: Broken pipe (os error 32)
[2023-03-13T19:51:27.515619440+00:00 ERROR devices::proxy] failed to read result of Shutdown from child device process serial: tube was disconnected
[2023-03-13T19:51:27.531859328+00:00 ERROR devices::proxy] failed write to child device process serial: failed to send packet: Broken pipe (os error 32)
[2023-03-13T19:51:27.555418384+00:00 ERROR devices::proxy] failed to read result of Shutdown from child device process serial: tube was disconnected
[2023-03-13T19:51:27.591276944+00:00 ERROR devices::proxy] failed write to child device process serial: failed to send packet: Broken pipe (os error 32)
[2023-03-13T19:51:27.603756416+00:00 ERROR devices::proxy] failed to read result of Shutdown from child device process serial: tube was disconnected
[2023-03-13T19:51:27.611876976+00:00 ERROR devices::proxy] failed write to child device process serial: failed to send packet: Broken pipe (os error 32)
[2023-03-13T19:51:27.617892592+00:00 ERROR devices::proxy] failed to read result of Shutdown from child device process serial: tube was disconnected
[2023-03-13T19:51:27.638390448+00:00 ERROR devices::proxy] failed write to child device process pcivirtio-console: failed to send packet: Broken pipe (os error 32)
[2023-03-13T19:51:27.667947488+00:00 ERROR devices::proxy] failed to read result of Shutdown from child device process pcivirtio-console: tube was disconnected
[2023-03-13T19:51:27.674622896+00:00 ERROR devices::proxy] failed write to child device process pcivirtio-block: failed to send packet: Broken pipe (os error 32)
[2023-03-13T19:51:27.696284032+00:00 ERROR devices::proxy] failed to read result of Shutdown from child device process pcivirtio-block: tube was disconnected
[2023-03-13T19:51:27.718911568+00:00 ERROR devices::proxy] failed write to child device process pcivirtio-rng: failed to send packet: Broken pipe (os error 32)
[2023-03-13T19:51:27.749831808+00:00 ERROR devices::proxy] failed to read result of Shutdown from child device process pcivirtio-rng: tube was disconnected
[2023-03-13T19:51:27.752885504+00:00 ERROR devices::proxy] failed write to child device process pcivirtio-balloon: failed to send packet: Broken pipe (os error 32)
[2023-03-13T19:51:27.760079008+00:00 ERROR devices::proxy] failed to read result of Shutdown from child device process pcivirtio-balloon: tube was disconnected
[2023-03-13T19:51:27.784088368+00:00 ERROR devices::proxy] failed write to child device process pcivirtio-net: failed to send packet: Broken pipe (os error 32)
[2023-03-13T19:51:27.786437760+00:00 ERROR devices::proxy] failed to read result of Shutdown from child device process pcivirtio-net: tube was disconnected
[2023-03-13T19:51:27.816258912+00:00 ERROR devices::proxy] failed write to child device process xhci controller: failed to send packet: Broken pipe (os error 32)
[2023-03-13T19:51:27.818428944+00:00 ERROR devices::proxy] failed to read result of Shutdown from child device process xhci controller: tube was disconnected
[2023-03-13T19:51:28.066125408+00:00 INFO  crosvm] exiting with success
# 
# # crosvm run --cfg /data/test.cfg [J--pstore /data/pstore
[2023-03-13T19:53:51.169956720+00:00 INFO  crosvm] crosvm started.
[2023-03-13T19:53:51.284091488+00:00 ERROR crosvm] arg parsing failed: Error parsing option '--pstore' with value '/data/pstore': missing field `size`

[2023-03-13T19:53:51.286322944+00:00 INFO  crosvm] invalid argument
# # crosvm run --cfg /data/test.cfg --pstore /data/pstore[J# crosvm run --cfg /data/test.cfg [J# vi /data/test.cfg [J# crosvm run --cfg /data/test.cfg [J# touch /data/out[J# touch /data/in[J# crosvm run --help[J
[2023-03-13T19:54:01.277759808+00:00 INFO  crosvm] crosvm started.
Usage: crosvm run [<KERNEL>] [--ac97 <[backend=BACKEND,capture=true,capture_effect=EFFECT,client_type=TYPE,shm-fd=FD,client-fd=FD,server-fd=FD]...>] [--acpi-table <PATH...>] [--android-fstab <android-fstab>] [--async-executor <EXECUTOR>] [--balloon-bias-mib <N>] [--balloon-control <PATH>] [--balloon-page-reporting] [--battery <battery>] [--bios <bios>] [-b <PATH[,key=value[,key=value[,...]]]...>] [--cfg <CONFIG_FILE>] [--cid <CID>] [--coiommu <unpin_policy=POLICY,unpin_interval=NUM,unpin_limit=NUM,unpin_gen_threshold=NUM>] [--cpu-affinity <CPUSET>] [--cpu-capacity <CPU=CAP[,CPU=CAP[,...]]>] [--cpu-cluster <CPUSET...>] [-c <cpus>] [--delay-rt] [--disable-sandbox] [--disable-virtio-intx] [-d <PATH[,key=value[,key=value[,...]]]...>] [--display-window-keyboard] [--display-window-mouse] [--dmi <DIR>] [--dump-device-tree-blob <FILE>] [--enable-hwp] [--enable-pnp-data] [--evdev <PATH...>] [--file-backed-mapping <addr=NUM,size=SIZE,path=PATH[,offset=NUM][,rw][,sync]...>] [--host-cpu-topology] [--host-ip <IP>] [--hugepages] [--hypervisor <hypervisor>] [--init-mem <N>] [-i <PATH>] [--itmt] [--keyboard <PATH...>] [--kvm-device <PATH>] [--lock-guest-memory] [--mac <MAC>] [-m <N>] [--mmio-address-range <mmio-address-range>] [--mouse <PATH...>] [--mte] [--multi-touch <PATH:WIDTH:HEIGHT...>] [--net <(tap-name=TAP_NAME,mac=MAC_ADDRESS|tap-fd=TAP_FD,mac=MAC_ADDRESS|host-ip=IP,netmask=NETMASK,mac=MAC_ADDRESS),vhost-net=VHOST_NET...>] [--net-vq-pairs <N>] [--netmask <NETMASK>] [--no-balloon] [--no-rng] [--no-smt] [--no-usb] [-p <PARAMS...>] [--per-vm-core-scheduling] [--pflash <path=PATH,[block_size=SIZE]>] [--pivot-root <PATH>] [--pmem-device <PATH...>] [--privileged-vm] [--protected-vm] [--protected-vm-with-firmware <PATH>] [--protected-vm-without-firmware] [--pstore <path=PATH,size=SIZE>] [--restore <PATH>] [-r <PATH[,key=value[,key=value[,...]]]>] [--rt-cpus <CPUSET>] [--rw-pmem-device <PATH...>] [--rwdisk <PATH[,key=value[,key=value[,...]]]...>] [--rwroot <PATH[,key=value[,key=value[,...]]]>] [--s2idle] [--seccomp-log-failures] [--seccomp-policy-dir <PATH>] [--serial <type=TYPE,[hardware=HW,num=NUM,path=PATH,input=PATH,console,earlycon,stdin]...>] [--shared-dir <PATH:TAG[:type=TYPE:writeback=BOOL:timeout=SECONDS:uidmap=UIDMAP:gidmap=GIDMAP:cache=CACHE:dax=BOOL,posix_acl=BOOL]...>] [--single-touch <PATH:WIDTH:HEIGHT...>] [-s <PATH>] [--sound <PATH>] [--strict-balloon] [--stub-pci-device <DOMAIN:BUS:DEVICE.FUNCTION[,vendor=NUM][,device=NUM][,class=NUM][,subsystem_vendor=NUM][,subsystem_device=NUM][,revision=NUM]...>] [--swap <PATH>] [--swiotlb <N>] [--switches <PATH...>] [--syslog-tag <TAG>] [--tap-fd <tap-fd...>] [--tap-name <tap-name...>] [--trackpad <PATH:WIDTH:HEIGHT...>] [--unmap-guest-memory-on-fork] [--unprotected-vm-with-firmware <PATH>] [--vcpu-cgroup-path <PATH>] [--vfio <PATH[,guest-address=<BUS:DEVICE.FUNCTION>][,iommu=viommu|coiommu|off]...>] [--vfio-isolate-hotplug] [--vfio-platform <PATH...>] [--vhost-net] [--vhost-net-device <PATH>] [--vhost-user-blk <SOCKET_PATH...>] [--vhost-user-console <SOCKET_PATH...>] [--vhost-user-fs <SOCKET_PATH:TAG...>] [--vhost-user-gpu <SOCKET_PATH...>] [--vhost-user-mac80211-hwsim <SOCKET_PATH>] [--vhost-user-net <SOCKET_PATH...>] [--vhost-user-snd <SOCKET_PATH...>] [--vhost-user-video-decoder <SOCKET_PATH...>] [--vhost-user-vsock <SOCKET_PATH...>] [--vhost-user-wl <SOCKET_PATH>] [--vhost-vsock-device <SOCKET_PATH>] [--vhost-vsock-fd <FD>] [--virtio-snd <[capture=true,backend=BACKEND,num_output_devices=1,
        num_input_devices=1,num_output_streams=1,num_input_streams=1]...>] [--vvu-proxy <SOCKET_PATH[,addr=DOMAIN:BUS:DEVICE.FUNCTION,uuid=UUID]...>] [--wayland-sock <PATH[,name=NAME]...>] [--x-display <DISPLAY>]

Start a new crosvm instance

Positional Arguments:
  KERNEL            bzImage of kernel to run

Options:
  --ac97            comma separated key=value pairs for setting up Ac97 devices.
                    Can be given more than once.                                
                    Possible key values:                                        
                        backend=(null, cras) - Where to route the audio         
                             device. If not provided, backend will default to   
                             null. `null` for /dev/null, cras for CRAS server.  
                        capture - Enable audio capture                          
                        capture_effects - | separated effects to be enabled for 
                            recording. The only supported effect value now is   
                            EchoCancellation or aec.                            
                        client_type - Set specific client type for cras backend.
                        socket_type - Set specific socket type for cras backend.
  --acpi-table      path to user provided ACPI table
  --android-fstab   path to Android fstab
  --async-executor  configure async executor backend; "uring" or "epoll" on
                    Linux, "handle" on Windows. If this option is omitted on
                    Linux, "epoll" is used by default.
  --balloon-bias-mib
                    amount to bias balance of memory between host and guest as
                    the balloon inflates, in mib.
  --balloon-control path for balloon controller socket.
  --balloon-page-reporting
                    enable page reporting in balloon.
  --battery         comma separated key=value pairs for setting up battery      
                    device                                                      
                    Possible key values:                                        
                        type=goldfish - type of battery emulation, defaults to  
                        goldfish
  --bios            path to BIOS/firmware ROM
  -b, --block       parameters for setting up a block device.                   
                    Valid keys:                                                 
                        path=PATH - Path to the disk image. Can be specified    
                            without the key as the first argument.              
                        ro=BOOL - Whether the block should be read-only.        
                            (default: false)                                    
                        root=BOOL - Whether the block device should be mounted  
                            as the root filesystem. This will add the required  
                            parameters to the kernel command-line. Can only be  
                            specified once. (default: false)                    
                        sparse=BOOL - Indicates whether the disk should support 
                            the discard operation. (default: true)              
                        block-size=BYTES - Set the reported block size of the   
                            disk. (default: 512)                                
                        id=STRING - Set the block device identifier to an ASCII 
                            string, up to 20 characters. (default: no ID)       
                        direct=BOOL - Use O_DIRECT mode to bypass page cache.   
                            (default: false)                                    
                        async-executor=epoll|uring - set the async executor kind
                            to simulate the block device with. This takes       
                            precedence over the global --async-executor option. 
                        multiple-workers=BOOL - (Experimental) run multiple     
                            worker threads in parallel. this option is not      
                            effective for vhost-user blk device.                
                            (default: false)
  --cfg             path to a JSON configuration file to load.                  
                    The options specified in the file can be overridden or
                    augmented by other command-line parameters.
  --cid             context ID for virtual sockets.
  --coiommu         comma separated key=value pairs for setting up coiommu      
                    devices.                                                    
                    Possible key values:                                        
                        unpin_policy=lru - LRU unpin policy.                    
                        unpin_interval=NUM - Unpin interval time in seconds.    
                        unpin_limit=NUM - Unpin limit for each unpin cycle, in  
                           unit of page count. 0 is invalid.                    
                        unpin_gen_threshold=NUM -  Number of unpin intervals a  
                           pinned page must be busy for to be aged into the     
                           older which is less frequently checked generation.
  --cpu-affinity    comma-separated list of CPUs or CPU ranges to run VCPUs on
                    (e.g. 0,1-3,5) or colon-separated list of assignments of
                    guest to host CPU assignments (e.g. 0=0:1=1:2=2) (default:
                    no mask)
  --cpu-capacity    set the relative capacity of the given CPU (default: no
                    capacity)
  --cpu-cluster     group the given CPUs into a cluster (default: no clusters)
  -c, --cpus        cpu parameters.                                             
                    Possible key values:                                        
                        num-cores=NUM - number of VCPUs. (default: 1)           
                        clusters=[[CLUSTER],...] - CPU clusters (default: None) 
                          Each CLUSTER is a set containing a list of CPUs       
                          that should belong to the same cluster. Individual    
                          CPU ids or ranges can be specified, comma-separated.  
                          Examples:                                             
                          clusters=[[0],[1],[2],[3]] - creates 4 clusters, one  
                            for each specified core.                            
                          clusters=[[0-3]] - creates a cluster for cores 0 to 3 
                            included.                                           
                          clusters=[[0,2],[1,3],[4-7,12]] - creates one cluster 
                            for cores 0 and 2, another one for cores 1 and 3,   
                            and one last for cores 4, 5, 6, 7 and 12.           
                        core-types=[atom=[CPUSET],core=[CPUSET]] - Hybrid core
                    types. (default: None)       Set the type of virtual hybrid
                    CPUs. Now it supports         to set intel Atom or intel
                    Core types.                       Examples:                 
                                                     
                    core-types=[atom=[0,1],core=[2,3]] - set vCPU 0 and         
                    vCPU 1 as intel Atom type, also set vCPU 2 and vCPU 3       
                    as intel Core type.
  --delay-rt        don't set VCPUs real-time until make-rt command is run
  --disable-sandbox run all devices in one, non-sandboxed process
  --disable-virtio-intx
                    disable INTx in virtio devices
  -d, --disk        path to a disk image followed by optional comma-separated   
                    options.                                                    
                    Valid keys:                                                 
                       sparse=BOOL - Indicates whether the disk should support  
                           the discard operation (default: true)                
                       block_size=BYTES - Set the reported block size of the    
                           disk (default: 512)                                  
                       id=STRING - Set the block device identifier to an ASCII  
                           string, up to 20 characters (default: no ID)         
                       o_direct=BOOL - Use O_DIRECT mode to bypass page cache"
  --display-window-keyboard
                    capture keyboard input from the display window
  --display-window-mouse
                    capture keyboard input from the display window
  --dmi             directory with smbios_entry_point/DMI files
  --dump-device-tree-blob
                    dump generated device tree as a DTB file
  --enable-hwp      expose HWP feature to the guest
  --enable-pnp-data expose Power and Perfomance (PnP) data to guest and guest
                    can show these PnP data
  --evdev           path to an event device node. The device will be grabbed
                    (unusable from the host) and made available to the guest
                    with the same configuration it shows on the host
  --file-backed-mapping
                    map the given file into guest memory at the specified       
                    address.                                                    
                    Parameters (addr, size, path are required):                 
                        addr=NUM - guest physical address to map at             
                        size=NUM - amount of memory to map                      
                        path=PATH - path to backing file/device to map          
                        offset=NUM - offset in backing file (default 0)         
                        rw - make the mapping writable (default readonly)       
                        sync - open backing file with O_SYNC                    
                        align - whether to adjust addr and size to page         
                           boundaries implicitly
  --host-cpu-topology
                    use mirror cpu topology of Host for Guest VM, also copy some
                    cpu feature to Guest VM
  --host-ip         IP address to assign to host tap interface
  --hugepages       advise the kernel to use Huge Pages for guest memory
                    mappings
  --hypervisor      hypervisor backend
  --init-mem        amount of guest memory outside the balloon at boot in MiB.
                    (default: --mem)
  -i, --initrd      initial ramdisk to load
  --itmt            allow to enable ITMT scheduling feature in VM. The success
                    of enabling depends on HWP and ACPI CPPC support on hardware
  --keyboard        path to a socket from where to read keyboard input events
                    and write status updates to
  --kvm-device      path to the KVM device. (default /dev/kvm)
  --lock-guest-memory
                    disable host swap on guest VM pages.
  --mac             MAC address for VM
  -m, --mem         memory parameters.                                          
                    Possible key values:                                        
                        size=NUM - amount of guest memory in MiB. (default: 256)
  --mmio-address-range
                    MMIO address ranges
  --mouse           path to a socket from where to read mouse input events and
                    write status updates to
  --mte             enable the Memory Tagging Extension in the guest
  --multi-touch     path to a socket from where to read multi touch input events
                    (such as those from a touchscreen) and write status updates
                    to, optionally followed by width and height (defaults to
                    800x1280)
  --net             comma separated key=value pairs for setting up a network    
                    device.                                                     
                    Possible key values:                                        
                      (                                                         
                         tap-name=STRING - name of a configured persistent TAP  
                                             interface to use for networking.   
                         mac=STRING      - MAC address for VM. [Optional]       
                       OR                                                       
                         tap-fd=INT      - File descriptor for configured tap   
                                             device.                            
                         mac=STRING      - MAC address for VM. [Optional]       
                       OR                                                       
                         (                                                      
                            host-ip=STRING  - IP address to assign to host tap  
                                                interface.                      
                          AND                                                   
                            netmask=STRING  - Netmask for VM subnet.            
                          AND                                                   
                            mac=STRING      - MAC address for VM.               
                         )                                                      
                      )                                                         
                    AND                                                         
                      vhost-net=BOOL  - whether enable vhost_net or not.        
                                          Default: false.  [Optional]           
                    Either one tap_name, one tap_fd or a triplet of host_ip,    
                    netmask and mac must be specified.
  --net-vq-pairs    virtio net virtual queue pairs. (default: 1)
  --netmask         netmask for VM subnet
  --no-balloon      don't use virtio-balloon device in the guest
  --no-rng          don't create RNG device in the guest
  --no-smt          don't use SMT in the guest
  --no-usb          don't use usb devices in the guest
  -p, --params      extra kernel or plugin command line arguments. Can be given
                    more than once
  --per-vm-core-scheduling
                    enable per-VM core scheduling intead of the default one
                    (per-vCPU core scheduing) by making all vCPU threads share
                    same cookie for core scheduling. This option is no-op on
                    devices that have neither MDS nor L1TF vulnerability
  --pflash          comma-seperated key-value pair for setting up the pflash
                    device, which provides space to store UEFI variables.
                    block_size defaults to 4K.                                  
                    [--pflash <path=PATH,[block_size=SIZE]>]
  --pivot-root      path to empty directory to use for sandbox pivot root
  --pmem-device     path to a disk image
  --privileged-vm   grant this Guest VM certain privileges to manage Host
                    resources, such as power management
  --protected-vm    prevent host access to guest memory
  --protected-vm-with-firmware
                    (EXPERIMENTAL/FOR DEBUGGING) Use custom VM firmware to run
                    in protected mode
  --protected-vm-without-firmware
                    (EXPERIMENTAL) prevent host access to guest memory, but
                    don't use protected VM firmware
  --pstore          path to pstore buffer backend file followed by size         
                        [--pstore <path=PATH,size=SIZE>]
  --restore         path of the snapshot that is used to restore the VM on
                    startup.
  -r, --root        path to a disk image followed by optional comma-separated   
                    options.                                                    
                    Valid keys:                                                 
                        sparse=BOOL - Indicates whether the disk should support 
                            the discard operation (default: true)               
                        block_size=BYTES - Set the reported block size of the   
                           disk (default: 512)                                  
                        id=STRING - Set the block device identifier to an ASCII 
                        string, up to 20 characters (default: no ID)            
                        o_direct=BOOL - Use O_DIRECT mode to bypass page cache
  --rt-cpus         comma-separated list of CPUs or CPU ranges to run VCPUs on.
                    (e.g. 0,1-3,5) (default: none)
  --rw-pmem-device  path to a writable disk image
  --rwdisk          path to a read-write disk image followed by optional        
                    comma-separated options.                                    
                    Valid keys:                                                 
                        sparse=BOOL - Indicates whether the disk should support 
                           the discard operation (default: true)                
                        block_size=BYTES - Set the reported block size of the   
                           disk (default: 512)                                  
                        id=STRING - Set the block device identifier to an ASCII 
                          string, up to 20 characters (default: no ID)          
                        o_direct=BOOL - Use O_DIRECT mode to bypass page cache
  --rwroot          path to a read-write root disk image followed by optional   
                    comma-separated options.                                    
                    Valid keys:                                                 
                        sparse=BOOL - Indicates whether the disk should support 
                          the discard operation (default: true)                 
                        block_size=BYTES - Set the reported block size of the   
                           disk (default: 512)                                  
                        id=STRING - Set the block device identifier to an ASCII 
                           string, up to 20 characters (default: no ID)         
                        o_direct=BOOL - Use O_DIRECT mode to bypass page cache
  --s2idle          set Low Power S0 Idle Capable Flag for guest Fixed ACPI     
                    Description Table, additionally use enhanced crosvm suspend
                    and resume routines to perform full guest
                    suspension/resumption
  --seccomp-log-failures
                    instead of seccomp filter failures being fatal, they will be
                    logged instead
  --seccomp-policy-dir
                    path to seccomp .policy files
  --serial          comma separated key=value pairs for setting up serial       
                    devices. Can be given more than once.                       
                    Possible key values:                                        
                        type=(stdout,syslog,sink,file) - Where to route the     
                           serial device                                        
                        hardware=(serial,virtio-console,debugcon) - Which type  
                           of serial hardware to emulate. Defaults to 8250 UART 
                           (serial).                                            
                        num=(1,2,3,4) - Serial Device Number. If not provided,  
                           num will default to 1.                               
                        debugcon_port=PORT - Port for the debugcon device to    
                           listen to. Defaults to 0x402, which is what OVMF     
                           expects.                                             
                        path=PATH - The path to the file to write to when       
                           type=file                                            
                        input=PATH - The path to the file to read from when not 
                           stdin                                                
                        console - Use this serial device as the guest console.  
                           Can only be given once. Will default to first        
                           serial port if not provided.                         
                        earlycon - Use this serial device as the early console. 
                           Can only be given once.                              
                        stdin - Direct standard input to this serial device.    
                           Can only be given once. Will default to first serial 
                           port if not provided.
  --shared-dir      colon-separated options for configuring a directory to be   
                    shared with the VM. The first field is the directory to be  
                    shared and the second field is the tag that the VM can use  
                    to identify the device. The remaining fields are key=value  
                    pairs that may appear in any order.                         
                     Valid keys are:                                            
                        type=(p9, fs) - Indicates whether the directory should  
                           be shared via virtio-9p or virtio-fs (default: p9).  
                        uidmap=UIDMAP - The uid map to use for the device's     
                           jail in the format "inner outer                      
                           count[,inner outer count]"                           
                           (default: 0 <current euid> 1).                       
                        gidmap=GIDMAP - The gid map to use for the device's     
                           jail in the format "inner outer                      
                           count[,inner outer count]"                           
                           (default: 0 <current egid> 1).                       
                        cache=(never, auto, always) - Indicates whether the VM  
                           can cache the contents of the shared directory       
                           (default: auto).  When set to "auto" and the type    
                           is "fs", the VM will use close-to-open consistency   
                           for file contents.                                   
                        timeout=SECONDS - How long the VM should consider file  
                           attributes and directory entries to be valid         
                           (default: 5).  If the VM has exclusive access to the 
                           directory, then this should be a large value.  If    
                           the directory can be modified by other processes,    
                           then this should be 0.                               
                        writeback=BOOL - Enables writeback caching              
                           (default: false).  This is only safe to do when the  
                           VM has exclusive access to the files in a directory. 
                           Additionally, the server should have read            
                           permission for all files as the VM may issue read    
                           requests even for files that are opened write-only.  
                        dax=BOOL - Enables DAX support.  Enabling DAX can       
                           improve performance for frequently accessed files    
                           by mapping regions of the file directly into the     
                           VM's memory. There is a cost of slightly increased   
                           latency the first time the file is accessed.  Since  
                           the mapping is shared directly from the host kernel's
                           file cache, enabling DAX can improve performance even
                            when the guest cache policy is "Never".  The default
                            value for this option is "false".                   
                        posix_acl=BOOL - Indicates whether the shared directory 
                           supports POSIX ACLs.  This should only be enabled    
                           when the underlying file system supports POSIX ACLs. 
                           The default value for this option is "true".
  --single-touch    path to a socket from where to read single touch input
                    events (such as those from a touchscreen) and write status
                    updates to, optionally followed by width and height
                    (defaults to 800x1280)
  -s, --socket      path to put the control socket. If PATH is a directory, a
                    name will be generated
  --sound           path to the VioS server socket for setting up virtio-snd
                    devices
  --strict-balloon  don't allow guest to use pages from the balloon
  --stub-pci-device comma-separated key=value pairs for setting up a stub PCI   
                    device that just enumerates. The first option in the list   
                    must specify a PCI address to claim.                        
                    Optional further parameters                                 
                        vendor=NUM - PCI vendor ID                              
                        device=NUM - PCI device ID                              
                        class=NUM - PCI class (including class code, subclass,  
                           and programming interface)                           
                        subsystem_vendor=NUM - PCI subsystem vendor ID          
                        subsystem_device=NUM - PCI subsystem device ID          
                        revision=NUM - revision
  --swap            path to create the swap files from. The PATH should be a
                    directory.
  --swiotlb         (EXPERIMENTAL) Size of virtio swiotlb buffer in MiB
                    (default: 64 if `--protected-vm` or
                    `--protected-vm-without-firmware` is present)
  --switches        path to a socket from where to read switch input events and
                    write status updates to
  --syslog-tag      when logging to syslog, use the provided tag
  --tap-fd          file descriptor for configured tap device. A different
                    virtual network card will be added each time this argument
                    is given
  --tap-name        name of a configured persistent TAP interface to use for
                    networking. A different virtual network card will be added
                    each time this argument is given
  --trackpad        path to a socket from where to read trackpad input events
                    and write status updates to, optionally followed by screen
                    width and height (defaults to 800x1280)
  --unmap-guest-memory-on-fork
                    set MADV_DONTFORK on guest memory                           
                    Intended for use in combination with --protected-vm, where
                    the guest memory can be dangerous to access. Some systems,
                    e.g. Android, have tools that fork processes and examine
                    their memory. This flag effectively hides the guest memory
                    from those tools. Not compatible with sandboxing or vvu
                    devices.
  --unprotected-vm-with-firmware
                    (EXPERIMENTAL/FOR DEBUGGING) Use VM firmware, but allow host
                    access to guest memory
  --vcpu-cgroup-path
                    move all vCPU threads to this CGroup (default: nothing
                    moves)
  --vfio            path to sysfs of VFIO device.                               
                        guest-address=<BUS:DEVICE.FUNCTION> - PCI address       
                           that the device will be assigned in the guest.       
                           If not specified, the device will be assigned an     
                           address that mirrors its address in the host.        
                           Only valid for PCI devices.                          
                        iommu=viommu|coiommu|off - indicates which type of IOMMU
                           to use for this device.
  --vfio-isolate-hotplug
                    isolate all hotplugged passthrough vfio device behind
                    virtio-iommu
  --vfio-platform   path to sysfs of platform pass through
  --vhost-net       use vhost for networking
  --vhost-net-device
                    path to the vhost-net device. (default /dev/vhost-net)
  --vhost-user-blk  path to a socket for vhost-user block
  --vhost-user-console
                    path to a socket for vhost-user console
  --vhost-user-fs   path to a socket path for vhost-user fs, and tag for the
                    shared dir
  --vhost-user-gpu  paths to a vhost-user socket for gpu
  --vhost-user-mac80211-hwsim
                    path to a socket for vhost-user mac80211_hwsim
  --vhost-user-net  path to a socket for vhost-user net
  --vhost-user-snd  path to a socket for vhost-user snd
  --vhost-user-video-decoder
                    path to a socket for vhost-user video decoder
  --vhost-user-vsock
                    path to a socket for vhost-user vsock
  --vhost-user-wl   path to a vhost-user socket for wayland
  --vhost-vsock-device
                    path to the vhost-vsock device. (default /dev/vhost-vsock)
  --vhost-vsock-fd  open FD to the vhost-vsock device, mutually exclusive with
                    vhost-vsock-device
  --virtio-snd      comma separated key=value pairs for setting up virtio snd   
                    devices.                                                    
                    Possible key values:                                        
                        capture=(false,true) - Disable/enable audio capture.    
                            Default is false.                                   
                        backend=(null,[cras]) - Which backend to use for        
                            virtio-snd.                                         
                        client_type=(crosvm,arcvm,borealis) - Set specific      
                            client type for cras backend. Default is crosvm.    
                        socket_type=(legacy,unified) Set specific socket type   
                            for cras backend. Default is unified.               
                        num_output_devices=INT - Set number of output PCM       
                            devices.                                            
                        num_input_devices=INT - Set number of input PCM devices.
                        num_output_streams=INT - Set number of output PCM       
                            streams per device.                                 
                        num_input_streams=INT - Set number of input PCM streams 
                            per device.
  --vvu-proxy       socket path for the Virtio Vhost User proxy device.         
                    Parameters                                                  
                        addr=BUS:DEVICE.FUNCTION - PCI address that the proxy   
                           device will be allocated                             
                           (default: automatically allocated)                   
                        uuid=UUID - UUID which will be stored in VVU PCI config 
                           space that is readable from guest userspace
  --wayland-sock    path to the Wayland socket to use. The unnamed one is used
                    for displaying virtual screens. Named ones are only for IPC
  --x-display       X11 display name to use
  --help            display usage information

[2023-03-13T19:54:01.509517856+00:00 INFO  crosvm] exiting with success
# # crosvm run --help[J# crosvm run --cfg /data/test.cfg --pstore /data/pstore[J# crosvm run --cfg /data/test.cfg [J# crosvm run --cfg /data/test.cfg --pstore /data/pstore[J,655336
[2023-03-13T19:54:27.480435616+00:00 INFO  crosvm] crosvm started.
[2023-03-13T19:54:27.577089584+00:00 ERROR crosvm] arg parsing failed: Error parsing option '--pstore' with value '/data/pstore,655336': unknown field `655336`, expected `path` or `size`

[2023-03-13T19:54:27.615506320+00:00 INFO  crosvm] invalid argument
# # crosvm run --cfg /data/test.cfg --pstore /data/pstore,655336[Jstore,655336[J[6D 655336[6D655336
[2023-03-13T19:54:40.988403648+00:00 INFO  crosvm] crosvm started.
[2023-03-13T19:54:41.056394640+00:00 ERROR crosvm] arg parsing failed: Error parsing option '--pstore' with value '/data/pstore': missing field `size`

[2023-03-13T19:54:41.079977056+00:00 INFO  crosvm] invalid argument
# # crosvm run --cfg /data/test.cfg --pstore /data/pstore 655336[J# crosvm run --cfg /data/test.cfg --pstore /data/pstore,655336[J"/data/pstore,655336[19D/data/pstore,655336"
[2023-03-13T19:54:48.909344992+00:00 INFO  crosvm] crosvm started.
[2023-03-13T19:54:48.980442160+00:00 ERROR crosvm] arg parsing failed: Error parsing option '--pstore' with value '/data/pstore,655336': unknown field `655336`, expected `path` or `size`

[2023-03-13T19:54:48.989236208+00:00 INFO  crosvm] invalid argument
# # crosvm run --cfg /data/test.cfg --pstore "/data/pstore,655336"[J# crosvm run --cfg /data/test.cfg --pstore /data/pstore 655336[J# crosvm run --cfg /data/test.cfg --pstore /data/pstore,655336[J# crosvm run --help[J
[2023-03-13T19:54:54.118885232+00:00 INFO  crosvm] crosvm started.
Usage: crosvm run [<KERNEL>] [--ac97 <[backend=BACKEND,capture=true,capture_effect=EFFECT,client_type=TYPE,shm-fd=FD,client-fd=FD,server-fd=FD]...>] [--acpi-table <PATH...>] [--android-fstab <android-fstab>] [--async-executor <EXECUTOR>] [--balloon-bias-mib <N>] [--balloon-control <PATH>] [--balloon-page-reporting] [--battery <battery>] [--bios <bios>] [-b <PATH[,key=value[,key=value[,...]]]...>] [--cfg <CONFIG_FILE>] [--cid <CID>] [--coiommu <unpin_policy=POLICY,unpin_interval=NUM,unpin_limit=NUM,unpin_gen_threshold=NUM>] [--cpu-affinity <CPUSET>] [--cpu-capacity <CPU=CAP[,CPU=CAP[,...]]>] [--cpu-cluster <CPUSET...>] [-c <cpus>] [--delay-rt] [--disable-sandbox] [--disable-virtio-intx] [-d <PATH[,key=value[,key=value[,...]]]...>] [--display-window-keyboard] [--display-window-mouse] [--dmi <DIR>] [--dump-device-tree-blob <FILE>] [--enable-hwp] [--enable-pnp-data] [--evdev <PATH...>] [--file-backed-mapping <addr=NUM,size=SIZE,path=PATH[,offset=NUM][,rw][,sync]...>] [--host-cpu-topology] [--host-ip <IP>] [--hugepages] [--hypervisor <hypervisor>] [--init-mem <N>] [-i <PATH>] [--itmt] [--keyboard <PATH...>] [--kvm-device <PATH>] [--lock-guest-memory] [--mac <MAC>] [-m <N>] [--mmio-address-range <mmio-address-range>] [--mouse <PATH...>] [--mte] [--multi-touch <PATH:WIDTH:HEIGHT...>] [--net <(tap-name=TAP_NAME,mac=MAC_ADDRESS|tap-fd=TAP_FD,mac=MAC_ADDRESS|host-ip=IP,netmask=NETMASK,mac=MAC_ADDRESS),vhost-net=VHOST_NET...>] [--net-vq-pairs <N>] [--netmask <NETMASK>] [--no-balloon] [--no-rng] [--no-smt] [--no-usb] [-p <PARAMS...>] [--per-vm-core-scheduling] [--pflash <path=PATH,[block_size=SIZE]>] [--pivot-root <PATH>] [--pmem-device <PATH...>] [--privileged-vm] [--protected-vm] [--protected-vm-with-firmware <PATH>] [--protected-vm-without-firmware] [--pstore <path=PATH,size=SIZE>] [--restore <PATH>] [-r <PATH[,key=value[,key=value[,...]]]>] [--rt-cpus <CPUSET>] [--rw-pmem-device <PATH...>] [--rwdisk <PATH[,key=value[,key=value[,...]]]...>] [--rwroot <PATH[,key=value[,key=value[,...]]]>] [--s2idle] [--seccomp-log-failures] [--seccomp-policy-dir <PATH>] [--serial <type=TYPE,[hardware=HW,num=NUM,path=PATH,input=PATH,console,earlycon,stdin]...>] [--shared-dir <PATH:TAG[:type=TYPE:writeback=BOOL:timeout=SECONDS:uidmap=UIDMAP:gidmap=GIDMAP:cache=CACHE:dax=BOOL,posix_acl=BOOL]...>] [--single-touch <PATH:WIDTH:HEIGHT...>] [-s <PATH>] [--sound <PATH>] [--strict-balloon] [--stub-pci-device <DOMAIN:BUS:DEVICE.FUNCTION[,vendor=NUM][,device=NUM][,class=NUM][,subsystem_vendor=NUM][,subsystem_device=NUM][,revision=NUM]...>] [--swap <PATH>] [--swiotlb <N>] [--switches <PATH...>] [--syslog-tag <TAG>] [--tap-fd <tap-fd...>] [--tap-name <tap-name...>] [--trackpad <PATH:WIDTH:HEIGHT...>] [--unmap-guest-memory-on-fork] [--unprotected-vm-with-firmware <PATH>] [--vcpu-cgroup-path <PATH>] [--vfio <PATH[,guest-address=<BUS:DEVICE.FUNCTION>][,iommu=viommu|coiommu|off]...>] [--vfio-isolate-hotplug] [--vfio-platform <PATH...>] [--vhost-net] [--vhost-net-device <PATH>] [--vhost-user-blk <SOCKET_PATH...>] [--vhost-user-console <SOCKET_PATH...>] [--vhost-user-fs <SOCKET_PATH:TAG...>] [--vhost-user-gpu <SOCKET_PATH...>] [--vhost-user-mac80211-hwsim <SOCKET_PATH>] [--vhost-user-net <SOCKET_PATH...>] [--vhost-user-snd <SOCKET_PATH...>] [--vhost-user-video-decoder <SOCKET_PATH...>] [--vhost-user-vsock <SOCKET_PATH...>] [--vhost-user-wl <SOCKET_PATH>] [--vhost-vsock-device <SOCKET_PATH>] [--vhost-vsock-fd <FD>] [--virtio-snd <[capture=true,backend=BACKEND,num_output_devices=1,
        num_input_devices=1,num_output_streams=1,num_input_streams=1]...>] [--vvu-proxy <SOCKET_PATH[,addr=DOMAIN:BUS:DEVICE.FUNCTION,uuid=UUID]...>] [--wayland-sock <PATH[,name=NAME]...>] [--x-display <DISPLAY>]

Start a new crosvm instance

Positional Arguments:
  KERNEL            bzImage of kernel to run

Options:
  --ac97            comma separated key=value pairs for setting up Ac97 devices.
                    Can be given more than once.                                
                    Possible key values:                                        
                        backend=(null, cras) - Where to route the audio         
                             device. If not provided, backend will default to   
                             null. `null` for /dev/null, cras for CRAS server.  
                        capture - Enable audio capture                          
                        capture_effects - | separated effects to be enabled for 
                            recording. The only supported effect value now is   
                            EchoCancellation or aec.                            
                        client_type - Set specific client type for cras backend.
                        socket_type - Set specific socket type for cras backend.
  --acpi-table      path to user provided ACPI table
  --android-fstab   path to Android fstab
  --async-executor  configure async executor backend; "uring" or "epoll" on
                    Linux, "handle" on Windows. If this option is omitted on
                    Linux, "epoll" is used by default.
  --balloon-bias-mib
                    amount to bias balance of memory between host and guest as
                    the balloon inflates, in mib.
  --balloon-control path for balloon controller socket.
  --balloon-page-reporting
                    enable page reporting in balloon.
  --battery         comma separated key=value pairs for setting up battery      
                    device                                                      
                    Possible key values:                                        
                        type=goldfish - type of battery emulation, defaults to  
                        goldfish
  --bios            path to BIOS/firmware ROM
  -b, --block       parameters for setting up a block device.                   
                    Valid keys:                                                 
                        path=PATH - Path to the disk image. Can be specified    
                            without the key as the first argument.              
                        ro=BOOL - Whether the block should be read-only.        
                            (default: false)                                    
                        root=BOOL - Whether the block device should be mounted  
                            as the root filesystem. This will add the required  
                            parameters to the kernel command-line. Can only be  
                            specified once. (default: false)                    
                        sparse=BOOL - Indicates whether the disk should support 
                            the discard operation. (default: true)              
                        block-size=BYTES - Set the reported block size of the   
                            disk. (default: 512)                                
                        id=STRING - Set the block device identifier to an ASCII 
                            string, up to 20 characters. (default: no ID)       
                        direct=BOOL - Use O_DIRECT mode to bypass page cache.   
                            (default: false)                                    
                        async-executor=epoll|uring - set the async executor kind
                            to simulate the block device with. This takes       
                            precedence over the global --async-executor option. 
                        multiple-workers=BOOL - (Experimental) run multiple     
                            worker threads in parallel. this option is not      
                            effective for vhost-user blk device.                
                            (default: false)
  --cfg             path to a JSON configuration file to load.                  
                    The options specified in the file can be overridden or
                    augmented by other command-line parameters.
  --cid             context ID for virtual sockets.
  --coiommu         comma separated key=value pairs for setting up coiommu      
                    devices.                                                    
                    Possible key values:                                        
                        unpin_policy=lru - LRU unpin policy.                    
                        unpin_interval=NUM - Unpin interval time in seconds.    
                        unpin_limit=NUM - Unpin limit for each unpin cycle, in  
                           unit of page count. 0 is invalid.                    
                        unpin_gen_threshold=NUM -  Number of unpin intervals a  
                           pinned page must be busy for to be aged into the     
                           older which is less frequently checked generation.
  --cpu-affinity    comma-separated list of CPUs or CPU ranges to run VCPUs on
                    (e.g. 0,1-3,5) or colon-separated list of assignments of
                    guest to host CPU assignments (e.g. 0=0:1=1:2=2) (default:
                    no mask)
  --cpu-capacity    set the relative capacity of the given CPU (default: no
                    capacity)
  --cpu-cluster     group the given CPUs into a cluster (default: no clusters)
  -c, --cpus        cpu parameters.                                             
                    Possible key values:                                        
                        num-cores=NUM - number of VCPUs. (default: 1)           
                        clusters=[[CLUSTER],...] - CPU clusters (default: None) 
                          Each CLUSTER is a set containing a list of CPUs       
                          that should belong to the same cluster. Individual    
                          CPU ids or ranges can be specified, comma-separated.  
                          Examples:                                             
                          clusters=[[0],[1],[2],[3]] - creates 4 clusters, one  
                            for each specified core.                            
                          clusters=[[0-3]] - creates a cluster for cores 0 to 3 
                            included.                                           
                          clusters=[[0,2],[1,3],[4-7,12]] - creates one cluster 
                            for cores 0 and 2, another one for cores 1 and 3,   
                            and one last for cores 4, 5, 6, 7 and 12.           
                        core-types=[atom=[CPUSET],core=[CPUSET]] - Hybrid core
                    types. (default: None)       Set the type of virtual hybrid
                    CPUs. Now it supports         to set intel Atom or intel
                    Core types.                       Examples:                 
                                                     
                    core-types=[atom=[0,1],core=[2,3]] - set vCPU 0 and         
                    vCPU 1 as intel Atom type, also set vCPU 2 and vCPU 3       
                    as intel Core type.
  --delay-rt        don't set VCPUs real-time until make-rt command is run
  --disable-sandbox run all devices in one, non-sandboxed process
  --disable-virtio-intx
                    disable INTx in virtio devices
  -d, --disk        path to a disk image followed by optional comma-separated   
                    options.                                                    
                    Valid keys:                                                 
                       sparse=BOOL - Indicates whether the disk should support  
                           the discard operation (default: true)                
                       block_size=BYTES - Set the reported block size of the    
                           disk (default: 512)                                  
                       id=STRING - Set the block device identifier to an ASCII  
                           string, up to 20 characters (default: no ID)         
                       o_direct=BOOL - Use O_DIRECT mode to bypass page cache"
  --display-window-keyboard
                    capture keyboard input from the display window
  --display-window-mouse
                    capture keyboard input from the display window
  --dmi             directory with smbios_entry_point/DMI files
  --dump-device-tree-blob
                    dump generated device tree as a DTB file
  --enable-hwp      expose HWP feature to the guest
  --enable-pnp-data expose Power and Perfomance (PnP) data to guest and guest
                    can show these PnP data
  --evdev           path to an event device node. The device will be grabbed
                    (unusable from the host) and made available to the guest
                    with the same configuration it shows on the host
  --file-backed-mapping
                    map the given file into guest memory at the specified       
                    address.                                                    
                    Parameters (addr, size, path are required):                 
                        addr=NUM - guest physical address to map at             
                        size=NUM - amount of memory to map                      
                        path=PATH - path to backing file/device to map          
                        offset=NUM - offset in backing file (default 0)         
                        rw - make the mapping writable (default readonly)       
                        sync - open backing file with O_SYNC                    
                        align - whether to adjust addr and size to page         
                           boundaries implicitly
  --host-cpu-topology
                    use mirror cpu topology of Host for Guest VM, also copy some
                    cpu feature to Guest VM
  --host-ip         IP address to assign to host tap interface
  --hugepages       advise the kernel to use Huge Pages for guest memory
                    mappings
  --hypervisor      hypervisor backend
  --init-mem        amount of guest memory outside the balloon at boot in MiB.
                    (default: --mem)
  -i, --initrd      initial ramdisk to load
  --itmt            allow to enable ITMT scheduling feature in VM. The success
                    of enabling depends on HWP and ACPI CPPC support on hardware
  --keyboard        path to a socket from where to read keyboard input events
                    and write status updates to
  --kvm-device      path to the KVM device. (default /dev/kvm)
  --lock-guest-memory
                    disable host swap on guest VM pages.
  --mac             MAC address for VM
  -m, --mem         memory parameters.                                          
                    Possible key values:                                        
                        size=NUM - amount of guest memory in MiB. (default: 256)
  --mmio-address-range
                    MMIO address ranges
  --mouse           path to a socket from where to read mouse input events and
                    write status updates to
  --mte             enable the Memory Tagging Extension in the guest
  --multi-touch     path to a socket from where to read multi touch input events
                    (such as those from a touchscreen) and write status updates
                    to, optionally followed by width and height (defaults to
                    800x1280)
  --net             comma separated key=value pairs for setting up a network    
                    device.                                                     
                    Possible key values:                                        
                      (                                                         
                         tap-name=STRING - name of a configured persistent TAP  
                                             interface to use for networking.   
                         mac=STRING      - MAC address for VM. [Optional]       
                       OR                                                       
                         tap-fd=INT      - File descriptor for configured tap   
                                             device.                            
                         mac=STRING      - MAC address for VM. [Optional]       
                       OR                                                       
                         (                                                      
                            host-ip=STRING  - IP address to assign to host tap  
                                                interface.                      
                          AND                                                   
                            netmask=STRING  - Netmask for VM subnet.            
                          AND                                                   
                            mac=STRING      - MAC address for VM.               
                         )                                                      
                      )                                                         
                    AND                                                         
                      vhost-net=BOOL  - whether enable vhost_net or not.        
                                          Default: false.  [Optional]           
                    Either one tap_name, one tap_fd or a triplet of host_ip,    
                    netmask and mac must be specified.
  --net-vq-pairs    virtio net virtual queue pairs. (default: 1)
  --netmask         netmask for VM subnet
  --no-balloon      don't use virtio-balloon device in the guest
  --no-rng          don't create RNG device in the guest
  --no-smt          don't use SMT in the guest
  --no-usb          don't use usb devices in the guest
  -p, --params      extra kernel or plugin command line arguments. Can be given
                    more than once
  --per-vm-core-scheduling
                    enable per-VM core scheduling intead of the default one
                    (per-vCPU core scheduing) by making all vCPU threads share
                    same cookie for core scheduling. This option is no-op on
                    devices that have neither MDS nor L1TF vulnerability
  --pflash          comma-seperated key-value pair for setting up the pflash
                    device, which provides space to store UEFI variables.
                    block_size defaults to 4K.                                  
                    [--pflash <path=PATH,[block_size=SIZE]>]
  --pivot-root      path to empty directory to use for sandbox pivot root
  --pmem-device     path to a disk image
  --privileged-vm   grant this Guest VM certain privileges to manage Host
                    resources, such as power management
  --protected-vm    prevent host access to guest memory
  --protected-vm-with-firmware
                    (EXPERIMENTAL/FOR DEBUGGING) Use custom VM firmware to run
                    in protected mode
  --protected-vm-without-firmware
                    (EXPERIMENTAL) prevent host access to guest memory, but
                    don't use protected VM firmware
  --pstore          path to pstore buffer backend file followed by size         
                        [--pstore <path=PATH,size=SIZE>]
  --restore         path of the snapshot that is used to restore the VM on
                    startup.
  -r, --root        path to a disk image followed by optional comma-separated   
                    options.                                                    
                    Valid keys:                                                 
                        sparse=BOOL - Indicates whether the disk should support 
                            the discard operation (default: true)               
                        block_size=BYTES - Set the reported block size of the   
                           disk (default: 512)                                  
                        id=STRING - Set the block device identifier to an ASCII 
                        string, up to 20 characters (default: no ID)            
                        o_direct=BOOL - Use O_DIRECT mode to bypass page cache
  --rt-cpus         comma-separated list of CPUs or CPU ranges to run VCPUs on.
                    (e.g. 0,1-3,5) (default: none)
  --rw-pmem-device  path to a writable disk image
  --rwdisk          path to a read-write disk image followed by optional        
                    comma-separated options.                                    
                    Valid keys:                                                 
                        sparse=BOOL - Indicates whether the disk should support 
                           the discard operation (default: true)                
                        block_size=BYTES - Set the reported block size of the   
                           disk (default: 512)                                  
                        id=STRING - Set the block device identifier to an ASCII 
                          string, up to 20 characters (default: no ID)          
                        o_direct=BOOL - Use O_DIRECT mode to bypass page cache
  --rwroot          path to a read-write root disk image followed by optional   
                    comma-separated options.                                    
                    Valid keys:                                                 
                        sparse=BOOL - Indicates whether the disk should support 
                          the discard operation (default: true)                 
                        block_size=BYTES - Set the reported block size of the   
                           disk (default: 512)                                  
                        id=STRING - Set the block device identifier to an ASCII 
                           string, up to 20 characters (default: no ID)         
                        o_direct=BOOL - Use O_DIRECT mode to bypass page cache
  --s2idle          set Low Power S0 Idle Capable Flag for guest Fixed ACPI     
                    Description Table, additionally use enhanced crosvm suspend
                    and resume routines to perform full guest
                    suspension/resumption
  --seccomp-log-failures
                    instead of seccomp filter failures being fatal, they will be
                    logged instead
  --seccomp-policy-dir
                    path to seccomp .policy files
  --serial          comma separated key=value pairs for setting up serial       
                    devices. Can be given more than once.                       
                    Possible key values:                                        
                        type=(stdout,syslog,sink,file) - Where to route the     
                           serial device                                        
                        hardware=(serial,virtio-console,debugcon) - Which type  
                           of serial hardware to emulate. Defaults to 8250 UART 
                           (serial).                                            
                        num=(1,2,3,4) - Serial Device Number. If not provided,  
                           num will default to 1.                               
                        debugcon_port=PORT - Port for the debugcon device to    
                           listen to. Defaults to 0x402, which is what OVMF     
                           expects.                                             
                        path=PATH - The path to the file to write to when       
                           type=file                                            
                        input=PATH - The path to the file to read from when not 
                           stdin                                                
                        console - Use this serial device as the guest console.  
                           Can only be given once. Will default to first        
                           serial port if not provided.                         
                        earlycon - Use this serial device as the early console. 
                           Can only be given once.                              
                        stdin - Direct standard input to this serial device.    
                           Can only be given once. Will default to first serial 
                           port if not provided.
  --shared-dir      colon-separated options for configuring a directory to be   
                    shared with the VM. The first field is the directory to be  
                    shared and the second field is the tag that the VM can use  
                    to identify the device. The remaining fields are key=value  
                    pairs that may appear in any order.                         
                     Valid keys are:                                            
                        type=(p9, fs) - Indicates whether the directory should  
                           be shared via virtio-9p or virtio-fs (default: p9).  
                        uidmap=UIDMAP - The uid map to use for the device's     
                           jail in the format "inner outer                      
                           count[,inner outer count]"                           
                           (default: 0 <current euid> 1).                       
                        gidmap=GIDMAP - The gid map to use for the device's     
                           jail in the format "inner outer                      
                           count[,inner outer count]"                           
                           (default: 0 <current egid> 1).                       
                        cache=(never, auto, always) - Indicates whether the VM  
                           can cache the contents of the shared directory       
                           (default: auto).  When set to "auto" and the type    
                           is "fs", the VM will use close-to-open consistency   
                           for file contents.                                   
                        timeout=SECONDS - How long the VM should consider file  
                           attributes and directory entries to be valid         
                           (default: 5).  If the VM has exclusive access to the 
                           directory, then this should be a large value.  If    
                           the directory can be modified by other processes,    
                           then this should be 0.                               
                        writeback=BOOL - Enables writeback caching              
                           (default: false).  This is only safe to do when the  
                           VM has exclusive access to the files in a directory. 
                           Additionally, the server should have read            
                           permission for all files as the VM may issue read    
                           requests even for files that are opened write-only.  
                        dax=BOOL - Enables DAX support.  Enabling DAX can       
                           improve performance for frequently accessed files    
                           by mapping regions of the file directly into the     
                           VM's memory. There is a cost of slightly increased   
                           latency the first time the file is accessed.  Since  
                           the mapping is shared directly from the host kernel's
                           file cache, enabling DAX can improve performance even
                            when the guest cache policy is "Never".  The default
                            value for this option is "false".                   
                        posix_acl=BOOL - Indicates whether the shared directory 
                           supports POSIX ACLs.  This should only be enabled    
                           when the underlying file system supports POSIX ACLs. 
                           The default value for this option is "true".
  --single-touch    path to a socket from where to read single touch input
                    events (such as those from a touchscreen) and write status
                    updates to, optionally followed by width and height
                    (defaults to 800x1280)
  -s, --socket      path to put the control socket. If PATH is a directory, a
                    name will be generated
  --sound           path to the VioS server socket for setting up virtio-snd
                    devices
  --strict-balloon  don't allow guest to use pages from the balloon
  --stub-pci-device comma-separated key=value pairs for setting up a stub PCI   
                    device that just enumerates. The first option in the list   
                    must specify a PCI address to claim.                        
                    Optional further parameters                                 
                        vendor=NUM - PCI vendor ID                              
                        device=NUM - PCI device ID                              
                        class=NUM - PCI class (including class code, subclass,  
                           and programming interface)                           
                        subsystem_vendor=NUM - PCI subsystem vendor ID          
                        subsystem_device=NUM - PCI subsystem device ID          
                        revision=NUM - revision
  --swap            path to create the swap files from. The PATH should be a
                    directory.
  --swiotlb         (EXPERIMENTAL) Size of virtio swiotlb buffer in MiB
                    (default: 64 if `--protected-vm` or
                    `--protected-vm-without-firmware` is present)
  --switches        path to a socket from where to read switch input events and
                    write status updates to
  --syslog-tag      when logging to syslog, use the provided tag
  --tap-fd          file descriptor for configured tap device. A different
                    virtual network card will be added each time this argument
                    is given
  --tap-name        name of a configured persistent TAP interface to use for
                    networking. A different virtual network card will be added
                    each time this argument is given
  --trackpad        path to a socket from where to read trackpad input events
                    and write status updates to, optionally followed by screen
                    width and height (defaults to 800x1280)
  --unmap-guest-memory-on-fork
                    set MADV_DONTFORK on guest memory                           
                    Intended for use in combination with --protected-vm, where
                    the guest memory can be dangerous to access. Some systems,
                    e.g. Android, have tools that fork processes and examine
                    their memory. This flag effectively hides the guest memory
                    from those tools. Not compatible with sandboxing or vvu
                    devices.
  --unprotected-vm-with-firmware
                    (EXPERIMENTAL/FOR DEBUGGING) Use VM firmware, but allow host
                    access to guest memory
  --vcpu-cgroup-path
                    move all vCPU threads to this CGroup (default: nothing
                    moves)
  --vfio            path to sysfs of VFIO device.                               
                        guest-address=<BUS:DEVICE.FUNCTION> - PCI address       
                           that the device will be assigned in the guest.       
                           If not specified, the device will be assigned an     
                           address that mirrors its address in the host.        
                           Only valid for PCI devices.                          
                        iommu=viommu|coiommu|off - indicates which type of IOMMU
                           to use for this device.
  --vfio-isolate-hotplug
                    isolate all hotplugged passthrough vfio device behind
                    virtio-iommu
  --vfio-platform   path to sysfs of platform pass through
  --vhost-net       use vhost for networking
  --vhost-net-device
                    path to the vhost-net device. (default /dev/vhost-net)
  --vhost-user-blk  path to a socket for vhost-user block
  --vhost-user-console
                    path to a socket for vhost-user console
  --vhost-user-fs   path to a socket path for vhost-user fs, and tag for the
                    shared dir
  --vhost-user-gpu  paths to a vhost-user socket for gpu
  --vhost-user-mac80211-hwsim
                    path to a socket for vhost-user mac80211_hwsim
  --vhost-user-net  path to a socket for vhost-user net
  --vhost-user-snd  path to a socket for vhost-user snd
  --vhost-user-video-decoder
                    path to a socket for vhost-user video decoder
  --vhost-user-vsock
                    path to a socket for vhost-user vsock
  --vhost-user-wl   path to a vhost-user socket for wayland
  --vhost-vsock-device
                    path to the vhost-vsock device. (default /dev/vhost-vsock)
  --vhost-vsock-fd  open FD to the vhost-vsock device, mutually exclusive with
                    vhost-vsock-device
  --virtio-snd      comma separated key=value pairs for setting up virtio snd   
                    devices.                                                    
                    Possible key values:                                        
                        capture=(false,true) - Disable/enable audio capture.    
                            Default is false.                                   
                        backend=(null,[cras]) - Which backend to use for        
                            virtio-snd.                                         
                        client_type=(crosvm,arcvm,borealis) - Set specific      
                            client type for cras backend. Default is crosvm.    
                        socket_type=(legacy,unified) Set specific socket type   
                            for cras backend. Default is unified.               
                        num_output_devices=INT - Set number of output PCM       
                            devices.                                            
                        num_input_devices=INT - Set number of input PCM devices.
                        num_output_streams=INT - Set number of output PCM       
                            streams per device.                                 
                        num_input_streams=INT - Set number of input PCM streams 
                            per device.
  --vvu-proxy       socket path for the Virtio Vhost User proxy device.         
                    Parameters                                                  
                        addr=BUS:DEVICE.FUNCTION - PCI address that the proxy   
                           device will be allocated                             
                           (default: automatically allocated)                   
                        uuid=UUID - UUID which will be stored in VVU PCI config 
                           space that is readable from guest userspace
  --wayland-sock    path to the Wayland socket to use. The unnamed one is used
                    for displaying virtual screens. Named ones are only for IPC
  --x-display       X11 display name to use
  --help            display usage information

[2023-03-13T19:54:54.400753424+00:00 INFO  crosvm] exiting with success
# # crosvm run --help[J# crosvm run --cfg /data/test.cfg --pstore "/data/pstore,655336"[J# crosvm run --cfg /data/test.cfg --pstore /data/pstore 655336[J# crosvm run --cfg /data/test.cfg --pstore /data/pstore,655336[J# crosvm run --help[J# crosvm run --cfg /data/test.cfg --pstore /data/pstore,655336[J[J[J[J[J[J[J[J[J[J[J[J[J[J[J[J[J[J[J[J[J[J[J[J[J[J[J[J[J
[2023-03-13T19:56:16.328026240+00:00 INFO  crosvm] crosvm started.
[2023-03-13T19:56:16.373358736+00:00 INFO  crosvm] CLI arguments parsed.
[2023-03-13T19:56:16.404277760+00:00 WARN  crosvm::crosvm::cmdline] `--cfg` is still experimental and the configuration file format may change
[2023-03-13T19:56:16.464897888+00:00 INFO  crosvm::crosvm::sys::unix] crosvm entering multiprocess mode
[2023-03-13T19:56:16.560928736+00:00 INFO  crosvm::crosvm::sys::unix::device_helpers] Trying to attach block device: /data/rootfs.cpio
[2023-03-13T19:56:16.564266480+00:00 INFO  disk] disk size 5378048, 
[2023-03-13T19:56:16.587724064+00:00 INFO  disk] Disk image file is hosted on file system type 858458f6
crosvm[1]: libminijail[1]: pivot_root: Invalid argument
crosvm[1]: libminijail[1]: pivot_root: Invalid argument
crosvm[1]: libminijail[1]: pivot_root: Invalid argument
crosvm[1]: libminijail[1]: pivot_root: Invalid argument
crosvm[1]: libminijail[1]: pivot_root: Invalid argument
crosvm[1]: libminijail[1]: pivot_root: Invalid argument
[2023-03-13T19:56:18.351923536+00:00 ERROR crosvm::crosvm::sys::unix] child pcivirtio-console (pid 285) exited: signo 17, status 5, code 2
[2023-03-13T19:56:18.840091632+00:00 ERROR devices::proxy] failed write to child device process serial: failed to send packet: Broken pipe (os error 32)
[2023-03-13T19:56:18.867443216+00:00 ERROR devices::proxy] failed to read result of Shutdown from child device process serial: tube was disconnected
[2023-03-13T19:56:19.143663344+00:00 ERROR devices::proxy] failed to read result of Shutdown from child device process serial: failed to receive packet: Connection reset by peer (os error 104)
[2023-03-13T19:56:19.151204224+00:00 ERROR devices::proxy] failed write to child device process serial: failed to send packet: Broken pipe (os error 32)
[2023-03-13T19:56:19.153273248+00:00 ERROR devices::proxy] failed to read result of Shutdown from child device process serial: tube was disconnected
[2023-03-13T19:56:19.155598304+00:00 ERROR devices::proxy] failed write to child device process serial: failed to send packet: Broken pipe (os error 32)
[2023-03-13T19:56:19.157037312+00:00 ERROR devices::proxy] failed to read result of Shutdown from child device process serial: tube was disconnected
[2023-03-13T19:56:19.168425600+00:00 ERROR devices::proxy] failed write to child device process pcivirtio-console: failed to send packet: Broken pipe (os error 32)
[2023-03-13T19:56:19.179444944+00:00 ERROR devices::proxy] failed to read result of Shutdown from child device process pcivirtio-console: tube was disconnected
[2023-03-13T19:56:19.196457232+00:00 ERROR devices::proxy] failed write to child device process pcivirtio-block: failed to send packet: Broken pipe (os error 32)
[2023-03-13T19:56:19.198327488+00:00 ERROR devices::proxy] failed to read result of Shutdown from child device process pcivirtio-block: tube was disconnected
[2023-03-13T19:56:19.205047584+00:00 ERROR devices::proxy] failed write to child device process pcivirtio-rng: failed to send packet: Broken pipe (os error 32)
[2023-03-13T19:56:19.219182048+00:00 ERROR devices::proxy] failed to read result of Shutdown from child device process pcivirtio-rng: tube was disconnected
[2023-03-13T19:56:19.221256064+00:00 ERROR devices::proxy] failed write to child device process pcivirtio-balloon: failed to send packet: Broken pipe (os error 32)
[2023-03-13T19:56:19.227699744+00:00 ERROR devices::proxy] failed to read result of Shutdown from child device process pcivirtio-balloon: tube was disconnected
[2023-03-13T19:56:19.239932144+00:00 ERROR devices::proxy] failed write to child device process pcivirtio-net: failed to send packet: Broken pipe (os error 32)
[2023-03-13T19:56:19.241437536+00:00 ERROR devices::proxy] failed to read result of Shutdown from child device process pcivirtio-net: tube was disconnected
[2023-03-13T19:56:19.247990848+00:00 ERROR devices::proxy] failed write to child device process xhci controller: failed to send packet: Broken pipe (os error 32)
[2023-03-13T19:56:19.259680512+00:00 ERROR devices::proxy] failed to read result of Shutdown from child device process xhci controller: tube was disconnected
[2023-03-13T19:56:19.621095440+00:00 INFO  crosvm] exiting with success
# ls /dev/pt# ls /dev/pt[J
ptmx   ptyp0  ptyp2  ptyp4  ptyp6  ptyp8  ptypa  ptypc  ptype
pts/   ptyp1  ptyp3  ptyp5  ptyp7  ptyp9  ptypb  ptypd  ptypf
# ls /dev/pt[J[J[J[J[J[J[J[J[J[J[Jls /dev/kbm[J[Jvm# ls /dev/kvm [J
[1;35m/dev/kvm[m
# # ls /dev/kvm [J# crosvm run --cfg /data/test.cfg [J# ls /dev/kvm [J# [J
# 
# 
# 
# QEMU: Terminated
